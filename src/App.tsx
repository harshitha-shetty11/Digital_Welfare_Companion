import React, { useState, useEffect, useRef } from 'react';
import './App.css';

// Type definitions
type Language = 'en' | 'hi' | 'te' | 'ta' | 'bn' | 'mr' | 'gu' | 'kn' | 'ml' | 'pa' | 'or' | 'as' | 'ur';
// Language Detection Service - Add this before the App component
interface DetectedLanguage {
  language: Language;
  confidence: number;
}

class LanguageDetectionService {
  private static readonly LANGUAGE_PATTERNS = {
    hi: ['рд╣реИ', 'рдореЗрдВ', 'рдХреЗ', 'рдХреА', 'рдХреЛ', 'рдФрд░', 'рдпрд╛', 'рд╕реЗ', 'рдкрд░', 'рдореИрдВ', 'рдЖрдк', 'рдпрд╣', 'рд╡рд╣'],
    te: ['р░▓р▒Л', 'р░Хр▒Б', 'р░ир▒Бр░Вр░бр░┐', 'р░др▒Л', 'р░Ер░ир░┐', 'р░Йр░Вр░жр░┐', 'р░Ер░╡р▒Бр░др▒Бр░Вр░жр░┐', 'р░Ър▒Зр░пр░╛р░▓р░┐', 'р░╡р░Ър▒Нр░Ър░┐р░Вр░жр░┐', 'р░ор░░р░┐р░пр▒Б'],
    ta: ['роЗро▓рпН', 'роХрпБ', 'роЖроХ', 'ро▓рпН', 'роЙроорпН', 'роЖрой', 'роОройрпНро▒рпБ', 'роЪрпЖропрпН', 'ро╡ро░рпБроорпН', 'рооро▒рпНро▒рпБроорпН'],
    bn: ['ржПрж░', 'рждрзЗ', 'ржХрзЗ', 'рж╣ржпрж╝', 'ржХрж░рзЗ', 'ржерзЗржХрзЗ', 'рж╕рж╛ржерзЗ', 'ржЖржорж┐', 'рждрзБржорж┐', 'ржПржмржВ'],
    mr: ['рдордзреНрдпреЗ', 'рд▓рд╛', 'рдиреЗ', 'рдЖрд╣реЗ', 'рдХрд░реВрди', 'рдкрд╛рд╕реВрди', 'рд╕реЛрдмрдд', 'рдореА', 'рддреБрдореНрд╣реА', 'рдЖрдгрд┐'],
    gu: ['ркорк╛ркВ', 'ркирлЗ', 'ркерлА', 'рк╕рк╛ркерлЗ', 'ркЫрлЗ', 'ркХрк░рлАркирлЗ', 'рк╣рлБркВ', 'ркдркорлЗ', 'ркЕркирлЗ'],
    kn: ['р▓пр▓▓р│Нр▓▓р▓┐', 'р▓Чр│Ж', 'р▓Зр▓Вр▓ж', 'р▓Ьр│Кр▓др│Ж', 'р▓Зр▓жр│Ж', 'р▓ор▓╛р▓бр▓┐', 'р▓ир▓╛р▓ир│Б', 'р▓ир│Ар▓╡р│Б', 'р▓ор▓др│Нр▓др│Б'],
    ml: ['р╡╜', 'р┤Хр╡Нр┤Хр╡Н', 'р╡╜ р┤ир┤┐р┤ир╡Нр┤ир╡Н', 'р┤Ур┤Яр╡Н', 'р┤Жр┤гр╡Н', 'р┤Ър╡Жр┤пр╡Нр┤др╡Н', 'р┤Юр┤╛р╡╗', 'р┤ир┤┐р┤Щр╡Нр┤Щр╡╛', 'р┤Йр┤В'],
    pa: ['ри╡ри┐рй▒риЪ', 'риирйВрй░', 'ридрйЛриВ', 'риири╛ри▓', 'ри╣рйИ', 'риХри░риХрйЗ', 'риорйИриВ', 'ридрйБри╕рйАриВ', 'риЕридрйЗ'],
    or: ['рм░рнЗ', 'рмХрнБ', 'рм░рнБ', 'рм╕рм╣рм┐рмд', 'рмЕрмЫрм┐', 'рмХрм░рм┐', 'рморнБрмБ', 'рмЖрмкрмг', 'рмПрммрмВ'],
    as: ['ржд', 'рж▓рзИ', 'рз░ ржкрз░рж╛', 'рж╕рзИрждрзЗ', 'ржЖржЫрзЗ', 'ржХрз░рж┐', 'ржоржЗ', 'ржЖржкрзБржирж┐', 'ржЖрз░рзБ'],
    ur: ['┘Е█М┌║', '┌й┘И', '╪│█Т', '┌й█Т ╪│╪з╪к┌╛', '█Б█Т', '┌й╪▒┌й█Т', '┘Е█М┌║', '╪в┘╛', '╪з┘И╪▒'],
    en: ['the', 'is', 'and', 'to', 'of', 'in', 'for', 'with', 'on', 'at', 'by', 'from']
  };

  private static readonly SCRIPT_PATTERNS = {
    hi: /[\u0900-\u097F]/, // Devanagari
    te: /[\u0C00-\u0C7F]/, // Telugu
    ta: /[\u0B80-\u0BFF]/, // Tamil
    bn: /[\u0980-\u09FF]/, // Bengali
    mr: /[\u0900-\u097F]/, // Devanagari (same as Hindi)
    gu: /[\u0A80-\u0AFF]/, // Gujarati
    kn: /[\u0C80-\u0CFF]/, // Kannada
    ml: /[\u0D00-\u0D7F]/, // Malayalam
    pa: /[\u0A00-\u0A7F]/, // Gurmukhi
    or: /[\u0B00-\u0B7F]/, // Oriya
    as: /[\u0980-\u09FF]/, // Bengali script (used for Assamese)
    ur: /[\u0600-\u06FF]/, // Arabic script
    en: /[a-zA-Z]/ // Latin script
  };

  static detectLanguage(text: string): DetectedLanguage {
    if (!text || text.trim().length === 0) {
      return { language: 'en', confidence: 0 };
    }

    const scores: { [key in Language]: number } = {
      en: 0, hi: 0, te: 0, ta: 0, bn: 0, mr: 0, 
      gu: 0, kn: 0, ml: 0, pa: 0, or: 0, as: 0, ur: 0
    };

    const cleanText = text.toLowerCase().trim();

    // Script-based detection (highest weight)
    Object.entries(this.SCRIPT_PATTERNS).forEach(([lang, pattern]) => {
      const matches = cleanText.match(pattern);
      if (matches) {
        scores[lang as Language] += matches.length * 3;
      }
    });

    // Pattern-based detection
    Object.entries(this.LANGUAGE_PATTERNS).forEach(([lang, patterns]) => {
      patterns.forEach(pattern => {
        const regex = new RegExp(`\\b${pattern.toLowerCase()}\\b`, 'g');
        const matches = cleanText.match(regex);
        if (matches) {
          scores[lang as Language] += matches.length * 2;
        }
      });
    });

    // Find the language with highest score
    const detectedLang = Object.entries(scores).reduce((a, b) => 
      scores[a[0] as Language] > scores[b[0] as Language] ? a : b
    )[0] as Language;

    const maxScore = scores[detectedLang];
    const confidence = Math.min(maxScore / cleanText.length, 1);

    // Fallback to English if confidence is too low
    if (confidence < 0.1) {
      return { language: 'en', confidence: 0.5 };
    }

    return { language: detectedLang, confidence };
  }
}

interface Message {
  id: string;
  type: 'user' | 'assistant';
  text: string;
  timestamp: Date;
  schemes?: WelfareScheme[];
}

interface WelfareScheme {
  id: number;
  name: LocalizedText;
  description: LocalizedText;
  category: string;
  benefitAmount?: LocalizedText;
  eligibility?: any;
  documents?: string[];
  applicationUrl?: string;
  state?: string;
}

interface LocalizedText {
  [key: string]: string;
}

interface SearchResult {
  id: string;
  title: string;
  description: string;
  relevance: number;
};


// Language configurations
const languages: { code: Language; name: string; flag: string }[] = [
  { code: 'en', name: 'English', flag: 'ЁЯЗмЁЯЗз' },
  { code: 'hi', name: 'рд╣рд┐рдВрджреА', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'te', name: 'р░др▒Жр░▓р▒Бр░Чр▒Б', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'ta', name: 'родрооро┐ро┤рпН', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'bn', name: 'ржмрж╛ржВрж▓рж╛', flag: 'ЁЯЗзЁЯЗй' },
  { code: 'mr', name: 'рдорд░рд╛рдареА', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'gu', name: 'ркЧрлБркЬрк░рк╛ркдрлА', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'kn', name: 'р▓Хр▓ир│Нр▓ир▓б', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'ml', name: 'р┤ор┤▓р┤пр┤╛р┤│р┤В', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'pa', name: 'рикрй░риЬри╛римрйА', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'or', name: 'рмУрмбрм╝рм┐рмЖ', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'as', name: 'ржЕрж╕ржорзАржпрж╝рж╛', flag: 'ЁЯЗоЁЯЗ│' },
  { code: 'ur', name: '╪з╪▒╪п┘И', flag: 'ЁЯЗ╡ЁЯЗ░' }
];

// UI Text translations
// UI Text translations - CORRECTED VERSION
const uiText: { [key: string]: LocalizedText } = {
  mainTitle: {
    en: "How can I help you today?",
    hi: "рдЖрдЬ рдореИрдВ рдЖрдкрдХреА рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?",
    te: "р░ир▒Зр░ир▒Б р░И р░░р▒Лр░Ьр▒Б р░ор▒Ар░Хр▒Б р░Ор░▓р░╛ р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░Чр░▓р░ир▒Б?",
    ta: "роЗройрпНро▒рпБ роиро╛ройрпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?",
    bn: "ржЖржЬ ржЖржорж┐ ржЖржкржирж╛ржХрзЗ ржХрзАржнрж╛ржмрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рждрзЗ ржкрж╛рж░рж┐?",
    mr: "рдЖрдЬ рдореА рддреБрдордЪреА рдХрд╢реА рдорджрдд рдХрд░реВ рд╢рдХрддреЛ?",
    gu: "ркЖркЬрлЗ рк╣рлБркВ ркдркорк╛рк░рлА ркХрлЗрк╡рлА рк░рлАркдрлЗ ркоркжркж ркХрк░рлА рк╢ркХрлБркВ?",
    kn: "р▓Зр▓Вр▓жр│Б р▓ир▓╛р▓ир│Б р▓ир▓┐р▓ор▓Чр│Ж р▓╣р│Зр▓Чр│Ж р▓╕р▓╣р▓╛р▓п р▓ор▓╛р▓бр▓мр▓╣р│Бр▓жр│Б?",
    ml: "р┤Зр┤ир╡Нр┤ир╡Н р┤Юр┤╛р╡╗ р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Ж р┤Ор┤Щр╡Нр┤Щр┤ир╡Ж р┤╕р┤╣р┤╛р┤пр┤┐р┤Хр╡Нр┤Хр┤╛р┤В?",
    pa: "риЕрй▒риЬ риорйИриВ ридрйБри╣ри╛рибрйА риХри┐ри╡рйЗриВ риорижриж риХри░ ри╕риХрижри╛ ри╣ри╛риВ?",
    or: "рмЖрмЬрм┐ рморнБрмБ рмЖрмкрмгрмЩрнНрмХрнБ рмХрм┐рмкрм░рм┐ рм╕рм╛рм╣рм╛рмпрнНрнЯ рмХрм░рм┐рмкрм╛рм░рм┐рммрм┐?",
    as: "ржЖржЬрж┐ ржоржЗ ржЖржкрзЛржирж╛ржХ ржХрзЗржирзЗржХрзИ рж╕рж╣рж╛ржпрж╝ ржХрз░рж┐ржм ржкрж╛рз░рзЛржБ?",
    ur: "╪в╪м ┘Е█М┌║ ╪в┘╛ ┌й█М ┌й█М╪│█Т ┘Е╪п╪п ┌й╪▒ ╪│┌й╪к╪з █Б┘И┌║╪Я"
  },
  inputPlaceholder: {
    en: "Ask about government schemes...",
    hi: "рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫреЗрдВ...",
    te: "р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡ р░кр░ер░Хр░╛р░▓ р░Чр▒Бр░░р░┐р░Вр░Ър░┐ р░Ер░бр░Чр░Вр░бр░┐...",
    ta: "роЕро░роЪрпБ родро┐роЯрпНроЯроЩрпНроХро│рпИрокрпН рокро▒рпНро▒ро┐ роХрпЗро│рпБроЩрпНроХро│рпН...",
    bn: "рж╕рж░ржХрж╛рж░рж┐ ржкрзНрж░ржХрж▓рзНржк рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи...",
    mr: "рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдВрдмрджреНрджрд▓ рд╡рд┐рдЪрд╛рд░рд╛...",
    gu: "рк╕рк░ркХрк╛рк░рлА ркпрлЛркЬркирк╛ркУ рк╡рк┐рк╢рлЗ рккрлВркЫрлЛ...",
    kn: "р▓╕р▓░р│Нр▓Хр▓╛р▓░р▓┐ р▓пр│Лр▓Ьр▓ир│Жр▓Чр▓│ р▓мр▓Чр│Нр▓Чр│Ж р▓Хр│Зр▓│р▓┐...",
    ml: "р┤╕р╡╝р┤Хр╡Нр┤Хр┤╛р╡╝ р┤кр┤жр╡Нр┤зр┤др┤┐р┤Хр┤│р╡Жр┤Хр╡Нр┤Хр╡Бр┤▒р┤┐р┤Ър╡Нр┤Ър╡Н р┤Ър╡Лр┤жр┤┐р┤Хр╡Нр┤Хр╡Бр┤Х...",
    pa: "ри╕ри░риХри╛ри░рйА рипрйЛриЬриири╛ри╡ри╛риВ римри╛ри░рйЗ рикрйБрй▒риЫрйЛ...",
    or: "рм╕рм░рмХрм╛рм░рнА рмпрнЛрмЬрмирм╛ рммрм┐рм╖рнЯрм░рнЗ рмкрмЪрм╛рм░рмирнНрмдрнБ...",
    as: "ржЪрз░ржХрж╛рз░рзА ржЖржБржЪржирж┐ рж╕ржорзНржкрз░рзНржХрзЗ рж╕рзБржзрж┐ржм...",
    ur: "╪│╪▒┌й╪з╪▒█М ╪з╪│┌й█М┘Е┘И┌║ ┌й█Т ╪и╪з╪▒█Т ┘Е█М┌║ ┘╛┘И┌Ж┌╛█М┌║..."
  },
  listening: {
    en: "Listening...",
    hi: "рд╕реБрди рд░рд╣рд╛ рд╣реВрдВ...",
    te: "р░╡р░┐р░Вр░Яр▒Бр░ир▒Нр░ир░╛р░ир▒Б...",
    ta: "роХрпЗроЯрпНроЯрпБроХрпНроХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒рпЗройрпН...",
    bn: "рж╢рзБржиржЫрж┐...",
    mr: "рдРрдХрдд рдЖрд╣реЗ...",
    gu: "рк╕рк╛ркВркнрк│рлА рк░рк╣рлНркпрлЛ ркЫрлБркВ...",
    kn: "р▓Хр│Зр▓│р│Бр▓др│Нр▓др▓┐р▓жр│Нр▓жр│Зр▓ир│Ж...",
    ml: "р┤Хр╡Зр╡╛р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б...",
    pa: "ри╕рйБриг ри░ри┐ри╣ри╛ ри╣ри╛риВ...",
    or: "рм╢рнБрмгрнБрмЫрм┐...",
    as: "рж╢рзБржирж┐ ржЖржЫрзЛржБ...",
    ur: "╪│┘Ж ╪▒█Б╪з █Б┘И┌║..."
  },
  quickActions: {
    en: "Quick Actions",
    hi: "рддреНрд╡рд░рд┐рдд рдХрд╛рд░реНрдп",
    te: "р░др▒Нр░╡р░░р░┐р░д р░Ър░░р▒Нр░пр░▓р▒Б",
    ta: "ро╡ро┐ро░рпИро╡ро╛рой роЪрпЖропро▓рпНроХро│рпН",
    bn: "ржжрзНрж░рзБржд ржХрж░рзНржо",
    mr: "рддреНрд╡рд░рд┐рдд рдХреГрддрд┐",
    gu: "ркЭркбрккрлА ркХрлНрк░рк┐ркпрк╛ркУ",
    kn: "р▓др│Нр▓╡р▓░р▓┐р▓д р▓Хр│Нр▓░р▓┐р▓пр│Жр▓Чр▓│р│Б",
    ml: "р┤╡р╡Зр┤Чр┤др╡Нр┤др┤┐р┤▓р╡Бр┤│р╡Нр┤│ р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤ир┤Щр╡Нр┤Щр╡╛",
    pa: "ридрйБри░рй░рид риХри╛ри░ри╡ри╛риИриЖриВ",
    or: "рмдрнНрн▒рм░рм┐рмд рмХрм╛рм░рнНрмпрнНрнЯ",
    as: "ржжрзНрз░рзБржд ржХрж╛рз░рзНржп",
    ur: "┘Б┘И╪▒█М ╪з┘В╪п╪з┘Е╪з╪к"
  },
  popularSchemes: {
    en: "Popular Schemes",
    hi: "рд▓реЛрдХрдкреНрд░рд┐рдп рдпреЛрдЬрдирд╛рдПрдВ",
    te: "р░кр▒Нр░░р░╕р░┐р░жр▒Нр░з р░кр░ер░Хр░╛р░▓р▒Б",
    ta: "рокро┐ро░рокро▓рооро╛рой родро┐роЯрпНроЯроЩрпНроХро│рпН",
    bn: "ржЬржиржкрзНрж░рж┐ржпрж╝ ржкрзНрж░ржХрж▓рзНржк",
    mr: "рд▓реЛрдХрдкреНрд░рд┐рдп рдпреЛрдЬрдирд╛",
    gu: "рк▓рлЛркХрккрлНрк░рк┐ркп ркпрлЛркЬркирк╛ркУ",
    kn: "р▓Ьр▓ир▓кр│Нр▓░р▓┐р▓п р▓пр│Лр▓Ьр▓ир│Жр▓Чр▓│р│Б",
    ml: "р┤Ьр┤ир┤кр╡Нр┤░р┤┐р┤п р┤кр┤жр╡Нр┤зр┤др┤┐р┤Хр╡╛",
    pa: "рикрйНри░ри╕ри┐рй▒риз рипрйЛриЬриири╛ри╡ри╛риВ",
    or: "рм▓рнЛрмХрмкрнНрм░рм┐рнЯ рмпрнЛрмЬрмирм╛",
    as: "ржЬржиржкрзНрз░рж┐ржпрж╝ ржЖржБржЪржирж┐",
    ur: "┘Е┘В╪и┘И┘Д ╪з╪│┌й█М┘Е╪▓"
  }, // тЖР MISSING COMMA WAS HERE
  languageDetected: {
    en: "Language detected:",
    hi: "рднрд╛рд╖рд╛ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛:",
    te: "р░нр░╛р░╖ р░Чр▒Бр░░р▒Нр░др░┐р░Вр░Ър░мр░бр░┐р░Вр░жр░┐:",
    ta: "роорпКро┤ро┐ роХрогрпНроЯро▒ро┐ропрокрпНрокроЯрпНроЯродрпБ:",
    bn: "ржнрж╛рж╖рж╛ рж╕ржирж╛ржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ:",
    mr: "рднрд╛рд╖рд╛ рдУрд│рдЦрд▓реА:",
    gu: "ркнрк╛рк╖рк╛ рк╢рлЛркзрк╛ркИ:",
    kn: "р▓нр▓╛р▓╖р│Ж р▓кр▓др│Нр▓др│Жр▓пр▓╛р▓Чр▓┐р▓жр│Ж:",
    ml: "р┤нр┤╛р┤╖ р┤Хр┤гр╡Нр┤Яр╡Жр┤др╡Нр┤др┤┐:",
    pa: "ринри╛ри╕ри╝ри╛ ри▓рй▒ринрйА:",
    or: "рмнрм╛рм╖рм╛ рмЪрм┐рм╣рнНрмирмЯ:",
    as: "ржнрж╛рж╖рж╛ ржЪрж┐ржирж╛ржХрзНржд:",
    ur: "╪▓╪и╪з┘Ж ┌й█М ╪┤┘Ж╪з╪о╪к:"
  },
  voiceAssistantActive: {
    en: "ЁЯОд Voice Assistant Active",
    hi: "ЁЯОд рдЖрд╡рд╛рдЬ рд╕рд╣рд╛рдпрдХ рд╕рдХреНрд░рд┐рдп",
    te: "ЁЯОд р░╡р░╛р░пр░┐р░╕р▒Н р░Ер░╕р░┐р░╕р▒Нр░Яр▒Жр░Вр░Яр▒Н р░Ър▒Бр░░р▒Бр░Хр▒Бр░Чр░╛ р░Йр░Вр░жр░┐",
    ta: "ЁЯОд роХрпБро░ро▓рпН роЙродро╡ро┐ропро╛ро│ро░рпН роЪрпЖропро▓рпНрокро╛роЯрпНроЯро┐ро▓рпН",
    bn: "ЁЯОд ржнржпрж╝рзЗрж╕ ржЕрзНржпрж╛рж╕рж┐рж╕рзНржЯрзНржпрж╛ржирзНржЯ рж╕ржХрзНрж░рж┐ржпрж╝",
    mr: "ЁЯОд рдЖрд╡рд╛рдЬ рд╕рд╣рд╛рдпреНрдпрдХ рд╕рдХреНрд░рд┐рдп",
    gu: "ЁЯОд рк╡рлЙркЗрк╕ ркЖрк╕рк┐рк╕рлНркЯркирлНркЯ рк╕ркХрлНрк░рк┐ркп",
    kn: "ЁЯОд р▓зр│Нр▓╡р▓ир▓┐ р▓╕р▓╣р▓╛р▓пр▓Х р▓╕р▓Хр│Нр▓░р▓┐р▓п",
    ml: "ЁЯОд р┤╡р╡Лр┤пр╡Нр┤╕р╡Н р┤Ер┤╕р┤┐р┤╕р╡Нр┤▒р╡Нр┤▒р┤ир╡Нр┤▒р╡Н р┤╕р┤Ьр╡Ар┤╡р┤В",
    pa: "ЁЯОд ри╡рйМриЗри╕ риЕри╕ри┐ри╕риЯрйИриВриЯ ри╕ри░риЧри░рио",
    or: "ЁЯОд рмнрмПрм╕ рмЖрм╕рм┐рм╖рнНрмЯрм╛рмгрнНрмЯ рм╕рмХрнНрм░рм┐рнЯ",
    as: "ЁЯОд ржнржпрж╝рзЗржЪ рж╕рж╣рж╛ржпрж╝ржХ рж╕ржХрзНрз░рж┐ржпрж╝",
    ur: "ЁЯОд ╪в┘И╪з╪▓ ┘Е╪╣╪з┘И┘Ж ┘Б╪╣╪з┘Д"
  },
  errorMessage: {
    en: "Sorry, I encountered an error. Please try again.",
    hi: "рдХреНрд╖рдорд╛ рдХрд░реЗрдВ, рдореБрдЭреЗ рдПрдХ рддреНрд░реБрдЯрд┐ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛ред рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред",
    te: "р░Хр▒Нр░╖р░ор░┐р░Вр░Ър░Вр░бр░┐, р░ир░╛р░Хр▒Б р░жр▒Лр░╖р░В р░Ор░жр▒Бр░░р▒Ир░Вр░жр░┐. р░жр░пр░Ър▒Зр░╕р░┐ р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐.",
    ta: "рооройрпНройро┐роХрпНроХро╡рпБроорпН, роОройроХрпНроХрпБ рокро┐ро┤рпИ роПро▒рпНрокроЯрпНроЯродрпБ. родропро╡рпБроЪрпЖропрпНродрпБ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.",
    bn: "ржжрзБржГржЦрж┐ржд, ржЖржорж╛рж░ ржПржХржЯрж┐ рждрзНрж░рзБржЯрж┐ рж╣ржпрж╝рзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред",
    mr: "рдХреНрд╖рдорд╕реНрд╡, рдорд▓рд╛ рдПрдХ рддреНрд░реБрдЯреА рдЖрд▓реА. рдХреГрдкрдпрд╛ рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛.",
    gu: "ркорк╛ркл ркХрк░рк╢рлЛ, ркоркирлЗ ркнрлВрк▓ ркЖрк╡рлА. ркХрлГрккрк╛ ркХрк░рлАркирлЗ рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ.",
    kn: "р▓Хр│Нр▓╖р▓ор▓┐р▓╕р▓┐, р▓ир▓ир▓Чр│Ж р▓жр│Лр▓╖ р▓╕р▓Вр▓нр▓╡р▓┐р▓╕р▓┐р▓жр│Ж. р▓жр▓пр▓╡р▓┐р▓Яр│Нр▓Яр│Б р▓ор▓др│Нр▓др│Ж р▓кр│Нр▓░р▓пр▓др│Нр▓ир▓┐р▓╕р▓┐.",
    ml: "р┤Хр╡Нр┤╖р┤ор┤┐р┤Хр╡Нр┤Хр╡Бр┤Х, р┤Ор┤ир┤┐р┤Хр╡Нр┤Хр╡Н р┤кр┤┐р┤╢р┤Хр╡Н р┤╕р┤Вр┤нр┤╡р┤┐р┤Ър╡Нр┤Ър╡Б. р┤╡р╡Ар┤гр╡Нр┤Яр╡Бр┤В р┤╢р╡Нр┤░р┤ор┤┐р┤Хр╡Нр┤Хр╡Бр┤Х.",
    pa: "риори╛рил риХри░рйЛ, риорйИриирйВрй░ риЗрй▒риХ риЧри▓ридрйА риЖриИред риХри┐ри░рикри╛ риХри░риХрйЗ рижрйБримри╛ри░ри╛ риХрйЛри╕ри╝ри┐ри╕ри╝ риХри░рйЛред",
    or: "рмжрнБрмГрмЦрм┐рмд, рморнЛрм░ рмПрмХ рмдрнНрм░рнБрмЯрм┐ рм╣рнЛрмЗрмЫрм┐ред рмжрнЯрм╛рмХрм░рм┐ рмкрнБрмирм░рнНрммрм╛рм░ рмЪрнЗрм╖рнНрмЯрм╛ рмХрм░рмирнНрмдрнБред",
    as: "ржжрзБржГржЦрж┐ржд, ржорзЛрз░ ржПржЯрж╛ ржнрзБрж▓ рж╣рзИржЫрзЗред ржЕржирзБржЧрзНрз░рж╣ ржХрз░рж┐ ржЖржХрзМ ржЪрзЗрж╖рзНржЯрж╛ ржХрз░ржХред",
    ur: "┘Е╪╣╪░╪▒╪к╪М ┘Е╪м┌╛█Т ╪з█М┌й ╪о╪▒╪з╪и█М ┌й╪з ╪│╪з┘Е┘Ж╪з █Б┘И╪з█Ф ╪и╪▒╪з╪ж█Т ┌й╪▒┘Е ╪п┘И╪и╪з╪▒█Б ┌й┘И╪┤╪┤ ┌й╪▒█М┌║█Ф"
  }
};


// Comprehensive schemes data with multilingual support
const sampleSchemes: WelfareScheme[] = [
  {
    id: 1,
    name: {
      en: 'PM-KISAN Samman Nidhi',
      hi: 'рдкреНрд░рдзрд╛рдирдордВрддреНрд░реА рдХрд┐рд╕рд╛рди рд╕рдореНрдорд╛рди рдирд┐рдзрд┐',
      te: 'р░кр▒Нр░░р░зр░╛р░ир░ор░Вр░др▒Нр░░р░┐ р░Хр░┐р░╕р░╛р░ир▒Н р░╕р░ор▒Нр░ор░╛р░ир▒Н р░ир░┐р░зр░┐',
      ta: 'рокро┐ро░родро╛рой роороирпНродро┐ро░ро┐ роХро┐роЪро╛ройрпН роЪроорпНрооро╛ройрпН роиро┐родро┐',
      bn: 'ржкрзНрж░ржзрж╛ржиржоржирзНрждрзНрж░рзА ржХрж┐рж╕рж╛ржи рж╕ржорзНржорж╛ржи ржирж┐ржзрж┐',
      mr: 'рдкреНрд░рдзрд╛рдирдордВрддреНрд░реА рдХрд┐рд╕рд╛рди рд╕рдореНрдорд╛рди рдирд┐рдзреА',
      gu: 'рккрлНрк░ркзрк╛ркиркоркВркдрлНрк░рлА ркХрк┐рк╕рк╛рки рк╕ркорлНркорк╛рки ркирк┐ркзрк┐',
      kn: 'р▓кр│Нр▓░р▓зр▓╛р▓ир▓ор▓Вр▓др│Нр▓░р▓┐ р▓Хр▓┐р▓╕р▓╛р▓ир│Н р▓╕р▓ор│Нр▓ор▓╛р▓ир│Н р▓ир▓┐р▓зр▓┐',
      ml: 'р┤кр╡Нр┤░р┤зр┤╛р┤ир┤ор┤ир╡Нр┤др╡Нр┤░р┤┐ р┤Хр┤┐р┤╕р┤╛р╡╗ р┤╕р┤ор╡Нр┤ор┤╛р╡╗ р┤ир┤┐р┤зр┤┐',
      pa: 'рикрйНри░ризри╛рии риорй░ридри░рйА риХри┐ри╕ри╛рии ри╕риорйНриори╛рии риири┐ризрйА',
      or: 'рмкрнНрм░рмзрм╛рмирмормирнНрмдрнНрм░рнА рмХрм┐рм╕рм╛рми рм╕рморнНрморм╛рми рмирм┐рмзрм┐',
      as: 'ржкрзНрз░ржзрж╛ржиржоржирзНрждрзНрз░рзА ржХрж┐рж╕рж╛ржи рж╕ржорзНржорж╛ржи ржирж┐ржзрж┐',
      ur: '┘И╪▓█М╪▒ ╪з╪╣╪╕┘Е ┌й╪│╪з┘Ж ╪│┘Е╪з┘Ж ┘Ж╪░█М╪▒'
    },
    description: {
      en: 'Financial assistance to small and marginal farmers',
      hi: 'рдЫреЛрдЯреЗ рдФрд░ рд╕реАрдорд╛рдВрдд рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рд╡рд┐рддреНрддреАрдп рд╕рд╣рд╛рдпрддрд╛',
      te: 'р░Ър░┐р░ир▒Нр░и р░ор░░р░┐р░пр▒Б р░Йр░кр░╛р░Вр░д р░░р▒Ир░др▒Бр░▓р░Хр▒Б р░Жр░░р▒Нр░ер░┐р░Х р░╕р░╣р░╛р░пр░В',
      ta: 'роЪро┐ро▒рпБ рооро▒рпНро▒рпБроорпН роХрпБро▒рпБ ро╡ро┐ро╡роЪро╛ропро┐роХро│рпБроХрпНроХрпБ роиро┐родро┐ роЙродро╡ро┐',
      bn: 'ржХрзНрж╖рзБржжрзНрж░ ржУ ржкрзНрж░рж╛ржирзНрждрж┐ржХ ржХрзГрж╖ржХржжрзЗрж░ ржЖрж░рзНржерж┐ржХ рж╕рж╣рж╛ржпрж╝рждрж╛',
      mr: 'рд▓рд╣рд╛рди рдЖрдгрд┐ рд╕реАрдорд╛рдВрдд рд╢реЗрддрдХрд▒реНрдпрд╛рдВрдирд╛ рдЖрд░реНрдерд┐рдХ рдорджрдд',
      gu: 'ркирк╛ркирк╛ ркЕркирлЗ рк╕рлАркорк╛ркВркд ркЦрлЗркбрлВркдрлЛркирлЗ ркирк╛ркгрк╛ркХрлАркп рк╕рк╣рк╛ркп',
      kn: 'р▓╕р▓гр│Нр▓г р▓ор▓др│Нр▓др│Б р▓Хр▓ир▓┐р▓╖р│Нр▓а р▓░р│Ир▓др▓░р▓┐р▓Чр│Ж р▓Жр▓░р│Нр▓ер▓┐р▓Х р▓╕р▓╣р▓╛р▓п',
      ml: 'р┤Ър╡Жр┤▒р╡Бр┤Хр┤┐р┤Я-р┤Хр╡Бр┤▒р╡Бр┤Хр┤┐р┤Я р┤Хр╡╝р┤╖р┤Хр╡╝р┤Хр╡Нр┤Хр╡Н р┤╕р┤╛р┤ор╡Нр┤кр┤др╡Нр┤др┤┐р┤Х р┤╕р┤╣р┤╛р┤пр┤В',
      pa: 'риЫрйЛриЯрйЗ риЕридрйЗ ри╕рйАриори╛риВрид риХри┐ри╕ри╛риири╛риВ риирйВрй░ ри╡ри┐рй▒ридрйА ри╕ри╣ри╛риЗридри╛',
      or: 'рмХрнНрм╖рнБрмжрнНрм░ рмУ рм╕рнАрморм╛рмирнНрмд рмЪрм╛рм╖рнАрмЩрнНрмХрнБ рмЖрм░рнНрмерм┐рмХ рм╕рм╣рм╛рнЯрмдрм╛',
      as: 'ржХрзНрж╖рзБржжрзНрз░ ржЖрз░рзБ ржкрзНрз░рж╛ржирзНрждрж┐ржХ ржХрзГрж╖ржХрж╕ржХрж▓рз░ ржмрж╛ржмрзЗ ржЖрз░рзНржерж┐ржХ рж╕рж╛рж╣рж╛ржпрзНржп',
      ur: '┌Ж┌╛┘И┘╣█Т ╪з┘И╪▒ ╪н╪з╪┤█М█Б ┘Ж╪┤█М┘Ж ┌й╪│╪з┘Ж┘И┌║ ┌й┘И ┘Е╪з┘Д█М ╪з┘Е╪п╪з╪п'
    },
    category: 'agriculture',
    benefitAmount: {
      en: 'тВ╣6,000 per year',
      hi: 'тВ╣6,000 рдкреНрд░рддрд┐ рд╡рд░реНрд╖',
      te: 'р░╕р░Вр░╡р░др▒Нр░╕р░░р░╛р░ир░┐р░Хр░┐ тВ╣6,000',
      ta: 'роЖрогрпНроЯрпБроХрпНроХрпБ тВ╣6,000',
      bn: 'ржмржЫрж░рзЗ тВ╣6,000',
      mr: 'тВ╣6,000 рдкреНрд░рддрд┐ рд╡рд░реНрд╖',
      gu: 'рк╡рк░рлНрк╖рлЗ тВ╣6,000',
      kn: 'р▓╡р▓░р│Нр▓╖р▓Хр│Нр▓Хр│Ж тВ╣6,000',
      ml: 'р┤╡р╡╝р┤╖р┤др╡Нр┤др┤┐р╡╜ тВ╣6,000',
      pa: 'ри╕ри╛ри▓ ри╡ри┐рй▒риЪ тВ╣6,000',
      or: 'рммрм░рнНрм╖рм░рнЗ тВ╣6,000',
      as: 'ржмржЫрз░ржд тВ╣6,000',
      ur: '╪│╪з┘Д ┘Е█М┌║ тВ╣6,000'
    },
    applicationUrl: 'https://pmkisan.gov.in'
  },
  {
    id: 2,
    name: {
      en: 'Ayushman Bharat',
      hi: 'рдЖрдпреБрд╖реНрдорд╛рди рднрд╛рд░рдд',
      te: 'р░Жр░пр▒Бр░╖р▒Нр░ор░╛р░ир▒Н р░нр░╛р░░р░др▒Н',
      ta: 'роЖропрпБро╖рпНрооро╛ройрпН рокро╛ро░родрпН',
      bn: 'ржЖржпрж╝рзБрж╖рзНржорж╛ржи ржнрж╛рж░ржд',
      mr: 'рдЖрдпреБрд╖реНрдорд╛рди рднрд╛рд░рдд',
      gu: 'ркЖркпрлБрк╖рлНркорк╛рки ркнрк╛рк░ркд',
      kn: 'р▓Жр▓пр│Бр▓╖р│Нр▓ор▓╛р▓ир│Н р▓нр▓╛р▓░р▓др│Н',
      ml: 'р┤Жр┤пр╡Бр┤╖р╡Нр┤ор┤╛р╡╗ р┤нр┤╛р┤░р┤др╡Н',
      pa: 'риЖрипрйБри╕ри╝риори╛рии ринри╛ри░рид',
      or: 'рмЖрнЯрнБрм╖рнНрморм╛рми рмнрм╛рм░рмд',
      as: 'ржЖржпрж╝рзБрж╖рзНржорж╛ржи ржнрж╛рз░ржд',
      ur: '╪в█М┘И╪┤┘Е╪з┘Ж ╪и┌╛╪з╪▒╪к'
    },
    description: {
      en: 'Health insurance scheme for families',
      hi: 'рдкрд░рд┐рд╡рд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмреАрдорд╛ рдпреЛрдЬрдирд╛',
      te: 'р░Хр▒Бр░Яр▒Бр░Вр░мр░╛р░▓р░Хр▒Б р░Жр░░р▒Лр░Чр▒Нр░п р░мр▒Ар░ор░╛ р░кр░ер░Хр░В',
      ta: 'роХрпБроЯрпБроорпНрокроЩрпНроХро│рпБроХрпНроХро╛рой роЪрпБроХро╛родро╛ро░ роХро╛рокрпНрокрпАроЯрпНроЯрпБ родро┐роЯрпНроЯроорпН',
      bn: 'ржкрж░рж┐ржмрж╛рж░рзЗрж░ ржЬржирзНржп рж╕рзНржмрж╛рж╕рзНржерзНржп ржмрзАржорж╛ ржкрзНрж░ржХрж▓рзНржк',
      mr: 'рдХреБрдЯреБрдВрдмрд╛рдВрд╕рд╛рдареА рдЖрд░реЛрдЧреНрдп рд╡рд┐рдорд╛ рдпреЛрдЬрдирд╛',
      gu: 'рккрк░рк┐рк╡рк╛рк░ ркорк╛ркЯрлЗ ркЖрк░рлЛркЧрлНркп рк╡рлАркорк╛ ркпрлЛркЬркирк╛',
      kn: 'р▓Хр│Бр▓Яр│Бр▓Вр▓мр▓Чр▓│р▓┐р▓Чр│Ж р▓Жр▓░р│Лр▓Чр│Нр▓п р▓╡р▓┐р▓ор▓╛ р▓пр│Лр▓Ьр▓ир│Ж',
      ml: 'р┤Хр╡Бр┤Яр╡Бр┤Вр┤мр┤Щр╡Нр┤Щр╡╛р┤Хр╡Нр┤Хр╡Бр┤│р╡Нр┤│ р┤Жр┤░р╡Лр┤Чр╡Нр┤п р┤Зр╡╗р┤╖р╡Бр┤▒р╡╗р┤╕р╡Н р┤кр┤жр╡Нр┤зр┤др┤┐',
      pa: 'рикри░ри┐ри╡ри╛ри░ри╛риВ ри▓риИ ри╕ри┐ри╣рид римрйАриори╛ рипрйЛриЬриири╛',
      or: 'рмкрм░рм┐рммрм╛рм░ рмкрм╛рмЗрмБ рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ рммрнАрморм╛ рмпрнЛрмЬрмирм╛',
      as: 'ржкрз░рж┐ржпрж╝рж╛рж▓рз░ ржмрж╛ржмрзЗ рж╕рзНржмрж╛рж╕рзНржерзНржп ржмрзАржорж╛ ржЖржБржЪржирж┐',
      ur: '╪о╪з┘Ж╪п╪з┘Ж┘И┌║ ┌й█Т ┘Д█М█Т ╪╡╪н╪к ┌й█М ╪и█М┘Е█Б ╪з╪│┌й█М┘Е'
    },
    category: 'health',
    benefitAmount: {
      en: 'тВ╣5 lakh per family',
      hi: 'тВ╣5 рд▓рд╛рдЦ рдкреНрд░рддрд┐ рдкрд░рд┐рд╡рд╛рд░',
      te: 'р░Хр▒Бр░Яр▒Бр░Вр░мр░╛р░ир░┐р░Хр░┐ тВ╣5 р░▓р░Хр▒Нр░╖р░▓р▒Б',
      ta: 'роТро░рпБ роХрпБроЯрпБроорпНрокродрпНродро┐ро▒рпНроХрпБ тВ╣5 ро▓роЯрпНроЪроорпН',
      bn: 'ржкрж░рж┐ржмрж╛рж░ ржкрзНрж░рждрж┐ тВ╣5 рж▓ржХрзНрж╖',
      mr: 'тВ╣5 рд▓рд╛рдЦ рдкреНрд░рддрд┐ рдХреБрдЯреБрдВрдм',
      gu: 'рккрк░рк┐рк╡рк╛рк░ ркжрлАрка тВ╣5 рк▓рк╛ркЦ',
      kn: 'р▓кр│Нр▓░р▓др▓┐ р▓Хр│Бр▓Яр│Бр▓Вр▓мр▓Хр│Нр▓Хр│Ж тВ╣5 р▓▓р▓Хр│Нр▓╖',
      ml: 'р┤Хр╡Бр┤Яр╡Бр┤Вр┤мр┤др╡Нр┤др┤┐р┤ир╡Н тВ╣5 р┤▓р┤Хр╡Нр┤╖р┤В',
      pa: 'рикри░ри┐ри╡ри╛ри░ ри▓риИ тВ╣5 ри▓рй▒риЦ',
      or: 'рмкрм░рм┐рммрм╛рм░ рмкрнНрм░рмдрм┐ тВ╣5 рм▓рмХрнНрм╖',
      as: 'ржкрз░рж┐ржпрж╝рж╛рж▓ ржкрзНрз░рждрж┐ тВ╣5 рж▓рж╛ржЦ',
      ur: '╪о╪з┘Ж╪п╪з┘Ж ┌й█Т ┘Д█М█Т тВ╣5 ┘Д╪з┌й┌╛'
    },
    applicationUrl: 'https://pmjay.gov.in'
  },
  {
    id: 3,
    name: {
      en: 'Student Scholarship',
      hi: 'рдЫрд╛рддреНрд░рд╡реГрддреНрддрд┐ рдпреЛрдЬрдирд╛',
      te: 'р░╡р░┐р░жр▒Нр░пр░╛р░░р▒Нр░ер░┐ р░╕р▒Нр░Хр░╛р░▓р░░р▒НтАМр░╖р░┐р░кр▒Н',
      ta: 'рооро╛рогро╡ро░рпН роЙродро╡ро┐родрпНродрпКроХрпИ',
      bn: 'ржЫрж╛рждрзНрж░ржмрзГрждрзНрждрж┐',
      mr: 'рд╡рд┐рджреНрдпрд╛рд░реНрдереА рд╢рд┐рд╖реНрдпрд╡реГрддреНрддреА',
      gu: 'рк╡рк┐ркжрлНркпрк╛рк░рлНркерлА рк╢рк┐рк╖рлНркпрк╡рлГркдрлНркдрк┐',
      kn: 'р▓╡р▓┐р▓жр│Нр▓пр▓╛р▓░р│Нр▓ер▓┐ р▓╡р▓┐р▓жр│Нр▓пр▓╛р▓░р│Нр▓ер▓┐р▓╡р│Зр▓др▓и',
      ml: 'р┤╡р┤┐р┤жр╡Нр┤пр┤╛р╡╝р┤ер┤┐ р┤╕р╡Нр┤Хр╡Лр┤│р╡╝р┤╖р┤┐р┤кр╡Нр┤кр╡Н',
      pa: 'ри╡ри┐рижри┐риЖри░риерйА ри╕риХри╛ри▓ри░ри╕ри╝ри┐рик',
      or: 'рмЫрм╛рмдрнНрм░ рмЫрм╛рмдрнНрм░рммрнГрмдрнНрмдрм┐',
      as: 'ржЫрж╛рждрзНрз░-ржЫрж╛рждрзНрз░рзА ржмрзГрждрзНрждрж┐',
      ur: '╪╖┘Д╪и╪з╪б ┘И╪╕█М┘Б█Б'
    },
    description: {
      en: 'Financial assistance for students',
      hi: 'рдЫрд╛рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рддреНрддреАрдп рд╕рд╣рд╛рдпрддрд╛',
      te: 'р░╡р░┐р░жр▒Нр░пр░╛р░░р▒Нр░ер▒Бр░▓р░Хр▒Б р░Жр░░р▒Нр░ер░┐р░Х р░╕р░╣р░╛р░пр░В',
      ta: 'рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХрпБ роиро┐родро┐ роЙродро╡ро┐',
      bn: 'рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржЖрж░рзНржерж┐ржХ рж╕рж╣рж╛ржпрж╝рждрж╛',
      mr: 'рд╡рд┐рджреНрдпрд╛рд░реНрдереНрдпрд╛рдВрд╕рд╛рдареА рдЖрд░реНрдерд┐рдХ рдорджрдд',
      gu: 'рк╡рк┐ркжрлНркпрк╛рк░рлНркерлАркУ ркорк╛ркЯрлЗ ркирк╛ркгрк╛ркХрлАркп рк╕рк╣рк╛ркп',
      kn: 'р▓╡р▓┐р▓жр│Нр▓пр▓╛р▓░р│Нр▓ер▓┐р▓Чр▓│р▓┐р▓Чр│Ж р▓Жр▓░р│Нр▓ер▓┐р▓Х р▓╕р▓╣р▓╛р▓п',
      ml: 'р┤╡р┤┐р┤жр╡Нр┤пр┤╛р╡╝р┤др╡Нр┤ер┤┐р┤Хр╡╛р┤Хр╡Нр┤Хр╡Н р┤╕р┤╛р┤ор╡Нр┤кр┤др╡Нр┤др┤┐р┤Х р┤╕р┤╣р┤╛р┤пр┤В',
      pa: 'ри╡ри┐рижри┐риЖри░риерйАриЖриВ ри▓риИ ри╡ри┐рй▒ридрйА ри╕ри╣ри╛риЗридри╛',
      or: 'рмЫрм╛рмдрнНрм░рмЫрм╛рмдрнНрм░рнАрмЩрнНрмХ рмкрм╛рмЗрмБ рмЖрм░рнНрмерм┐рмХ рм╕рм╣рм╛рнЯрмдрм╛',
      as: 'ржЫрж╛рждрзНрз░-ржЫрж╛рждрзНрз░рзАрз░ ржмрж╛ржмрзЗ ржЖрз░рзНржерж┐ржХ рж╕рж╛рж╣рж╛ржпрзНржп',
      ur: '╪╖┘Д╪и╪з╪б ┌й█Т ┘Д█М█Т ┘Е╪з┘Д█М ╪з┘Е╪п╪з╪п'
    },
    category: 'education',
    benefitAmount: {
      en: 'Up to тВ╣25,000',
      hi: 'тВ╣25,000 рддрдХ',
      te: 'тВ╣25,000 р░╡р░░р░Хр▒Б',
      ta: 'тВ╣25,000 ро╡ро░рпИ',
      bn: 'тВ╣25,000 ржкрж░рзНржпржирзНржд',
      mr: 'тВ╣25,000 рдкрд░реНрдпрдВрдд',
      gu: 'тВ╣25,000 рк╕рлБркзрлА',
      kn: 'тВ╣25,000 р▓╡р▓░р│Жр▓Чр│Ж',
      ml: 'тВ╣25,000 р┤╡р┤░р╡Ж',
      pa: 'тВ╣25,000 ридрй▒риХ',
      or: 'тВ╣25,000 рмкрм░рнНрмпрнНрнЯрмирнНрмд',
      as: 'тВ╣25,000 ржкрз░рзНржпржирзНржд',
      ur: 'тВ╣25,000 ╪к┌й'
    },
    applicationUrl: 'https://scholarships.gov.in'
  },
  {
    id: 4,
    name: {
      en: 'Beti Bachao Beti Padhao',
      hi: 'рдмреЗрдЯреА рдмрдЪрд╛рдУ рдмреЗрдЯреА рдкрдврд╝рд╛рдУ',
      te: 'р░мр▒Зр░Яр▒А р░мр░Ър░╛р░╡р▒Л р░мр▒Зр░Яр▒А р░кр░зр░╛р░╡р▒Л',
      ta: 'рокрпЖрогрпН роХрпБро┤роирпНродрпИроХро│рпИ роХро╛рокрпНрокро╛ро▒рпНро▒рпБ роХро▓рпНро╡ро┐ роХрпКроЯрпБ',
      bn: 'ржмрзЗржЯрж┐ ржмрж╛ржЪрж╛ржУ ржмрзЗржЯрж┐ ржкржбрж╝рж╛ржУ',
      mr: 'рдмреЗрдЯреА рдмрдЪрд╛рдУ рдмреЗрдЯреА рдкрдврд╛рдУ',
      gu: 'ркмрлЗркЯрлА ркмркЪрк╛рк╡рлЛ ркмрлЗркЯрлА рккркврк╛рк╡рлЛ',
      kn: 'р▓мр│Жр▓Яр│А р▓мр▓Ър▓╛р▓╡р│Л р▓мр│Жр▓Яр│А р▓кр▓вр▓╛р▓╡р│Л',
      ml: 'р┤мр╡Зр┤Яр╡Нр┤Яр┤┐ р┤мр┤Ър╡Нр┤Ър┤╛р┤╡р╡Л р┤мр╡Зр┤Яр╡Нр┤Яр┤┐ р┤кр┤вр┤╛р┤╡р╡Л',
      pa: 'римрйЗриЯрйА римриЪри╛риУ римрйЗриЯрйА рикрйЬрйНри╣ри╛риУ',
      or: 'рммрнЗрмЯрнА рммрмЪрм╛рмУ рммрнЗрмЯрнА рмкрмврм╛рмУ',
      as: 'ржмрзЗржЯрзА ржмрж╛ржЪрж╛ржУ ржмрзЗржЯрзА ржкржврж╝рж╛ржУ',
      ur: '╪и█М┘╣█М ╪и┌Ж╪з╪д ╪и█М┘╣█М ┘╛┌С┌╛╪з╪д'
    },
    description: {
      en: 'Scheme for girl child welfare and education',
      hi: 'рдмрд╛рд▓рд┐рдХрд╛ рдХрд▓реНрдпрд╛рдг рдФрд░ рд╢рд┐рдХреНрд╖рд╛ рдпреЛрдЬрдирд╛',
      te: 'р░мр░╛р░▓р░┐р░Х р░╕р░Вр░Хр▒Нр░╖р▒Зр░ор░В р░ор░░р░┐р░пр▒Б р░╡р░┐р░жр▒Нр░п р░кр░ер░Хр░В',
      ta: 'рокрпЖрогрпН роХрпБро┤роирпНродрпИ роиро▓ройрпН рооро▒рпНро▒рпБроорпН роХро▓рпНро╡ро┐ родро┐роЯрпНроЯроорпН',
      bn: 'ржХржирзНржпрж╛ рж╢рж┐рж╢рзБ ржХрж▓рзНржпрж╛ржг ржУ рж╢рж┐ржХрзНрж╖рж╛ ржкрзНрж░ржХрж▓рзНржк',
      mr: 'рдореБрд▓реАрдВрдЪреНрдпрд╛ рдХрд▓реНрдпрд╛рдг рдЖрдгрд┐ рд╢рд┐рдХреНрд╖рдг рдпреЛрдЬрдирд╛',
      gu: 'ркмрк╛рк│ркХрлАркирк╛ ркХрк▓рлНркпрк╛ркг ркЕркирлЗ рк╢рк┐ркХрлНрк╖ркг ркпрлЛркЬркирк╛',
      kn: 'р▓╣р│Жр▓гр│Нр▓гр│Б р▓ор▓Чр│Бр▓╡р▓┐р▓и р▓Хр▓▓р│Нр▓пр▓╛р▓г р▓ор▓др│Нр▓др│Б р▓╢р▓┐р▓Хр│Нр▓╖р▓г р▓пр│Лр▓Ьр▓ир│Ж',
      ml: 'р┤кр╡Жр╡║р┤Хр╡Бр┤Яр╡Нр┤Яр┤┐р┤Хр┤│р╡Бр┤Яр╡Ж р┤Хр╡Нр┤╖р╡Зр┤ор┤╡р╡Бр┤В р┤╡р┤┐р┤жр╡Нр┤пр┤╛р┤нр╡Нр┤пр┤╛р┤╕р┤╡р╡Бр┤В',
      pa: 'риХрйБрйЬрйА ринри▓ри╛риИ риЕридрйЗ ри╕ри┐рй▒риЦри┐риЖ рипрйЛриЬриири╛',
      or: 'рммрм╛рм│рм┐рмХрм╛ рмХрм▓рнНрнЯрм╛рмг рмУ рм╢рм┐рмХрнНрм╖рм╛ рмпрнЛрмЬрмирм╛',
      as: 'ржЫрзЛрз▒рж╛рж▓рзА ржХрж▓рзНржпрж╛ржг ржЖрз░рзБ рж╢рж┐ржХрзНрж╖рж╛ ржЖржБржЪржирж┐',
      ur: '╪и┌Ж█М ┌й█М ┘Б┘Д╪з╪н ╪з┘И╪▒ ╪к╪╣┘Д█М┘Е ┌й█М ╪з╪│┌й█М┘Е'
    },
    category: 'women',
    benefitAmount: {
      en: 'Various benefits',
      hi: 'рд╡рд┐рднрд┐рдиреНрди рд▓рд╛рдн',
      te: 'р░╡р░┐р░╡р░┐р░з р░крзНрж░рдпрзЛржЬржирж╛р░▓р▒Б',
      ta: 'рокро▓рпНро╡рпЗро▒рпБ роиройрпНрдореИроХро│рпН',
      bn: 'ржмрж┐ржнрж┐ржирзНржи рж╕рзБржмрж┐ржзрж╛',
      mr: 'рд╡рд┐рд╡рд┐рдз рдлрд╛рдпрджрзЗ',
      gu: 'рк╡рк┐рк╡рк┐ркз рк▓рк╛рднрлЛ',
      kn: 'р▓╡р▓┐р▓╡р▓┐р▓з р▓кр│Нр▓░р▓пр│Лр▓Ьр░иржЧр▓│р│Б',
      ml: 'р┤╡р┤┐р┤╡р┤┐р┤з р┤ЖрдирлБржХр╡Вр▓▓р╡Нржпр┤Щр╡Нр┤Щр╡╛',
      pa: 'ри╡рй▒риЦ-ри╡рй▒ржЦ ржлрж╛риЗрджрзЗ',
      or: 'рммрм┐рмнрм┐рмирзНржи рж╕рзБржмрж┐ржзрж╛',
      as: 'ржмрж┐ржнрж┐ржирзНржи рж╕рзБржмрж┐ржзрж╛',
      ur: '┘Е╪о╪к┘Д┘Б ┘Б┘И╪з╪ж╪п'
    },
    applicationUrl: 'https://wcd.nic.in'
  }
];

// Quick actions with multilingual support
const quickActions = [
  { 
    id: 'eligibility', 
    title: {
      en: 'Check Eligibility',
      hi: 'рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪреЗрдВ',
      te: 'р░Ер░░р▒Нр░╣ржд рддрдирд┐рдЦр▒А р░Ър▒Зр░пр░Вр░бр░┐',
      ta: 'родроХрзБрждрд┐рдпрпИ роЪрд░рд┐рдкр┤╛р╡╝ржХр╡НроХрд╡р╡Бр┤В',
      bn: 'ржпрзЛржЧрзНржпрждрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржи',
      mr: 'рдкрд╛рддреНрд░рддрд╛ рддрдкрд╛рд╕рд╛',
      gu: 'рк▓рк╛ркпркХрж╛ркд ркЪркХрк╛рж╕рлЛ',
      kn: 'р▓Ер▓░р│Нр▓╣рждр│Ж р▓кр▓░р▓┐р▓╢р│Ар▓▓р▓┐р▓╕р▓┐',
      ml: 'р┤пр╡Лр┤Чр╡Нр┤пр┤д р┤кр┤░р┤┐р┤╢р╡Лр┤зр┤┐р┤Хр╡Нр┤Хр╡БржХ',
      pa: 'рипрйЛриЧрждри╛ риЬри╛риВржЪрйЛ',
      or: 'рмпрнЛржЧрзНржпрмдрж╛ рмпрж╛рмЮрнНрмЪ рмХрж░рмирнНрмдрнБ',
      as: 'ржпрзЛржЧрзНржпрждрж╛ ржкрз░рзАржХрзНрж╖рж╛ ржХрз░ржХ',
      ur: '╪з█Б┘Д█М╪к ┌Ж█М┌й ┌й╪▒█М┌║'
    },
    icon: 'тЬЕ' 
  },
  { 
    id: 'documents', 
    title: {
      en: 'Documents Needed',
      hi: 'рдЖрд╡рд╢реНрдпрдХ рджрд╕реНрддрд╛рд╡реЗрдЬ',
      te: 'р░Ер░╡р░╕рж░р░ор▒Ир░и р░крждреНрд░рд╛р░▓р▒Б',
      ta: 'родрпЗрд╡реИрдпро╛рой роЖрд╡рдгр┤ЩрзНржЧр╡╛',
      bn: 'ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржХрж╛ржЧржЬржкрждрзНрж░',
      mr: 'рдЖрд╡рд╢реНрдпрдХ рдХрд╛рдЧрджрдкрддреНрд░реЗ',
      gu: 'ркЬрк░рлВ╪▒█М ркжрк╕рлНркдрк╛рк╡рлЗркЬрлЛ',
      kn: 'р▓Ер▓Чр▓др│Нр▓п р▓жр▓╛р▓Цр▓▓р│Жр▓Чр▓│р│Б',
      ml: 'р┤Жр┤╡р┤╢р╡Нр┤пржор┤╛р┤п р┤░р╡Зр┤Цр┤Хр╡╛',
      pa: 'ри▓рйЛрйЬрйАриВржжрзЗ рижри╕ридри╛ри╡рйЗриЬри╝',
      or: 'рмЖрммрм╢рнНржпркХ рмжрм▓рм┐рм▓',
      as: 'ржкрзНрз░ржпрж╝рзЛржЬржирзАржпрж╝ ржиржерж┐-ржкрждрзНрз░',
      ur: '╪╢╪▒┘И╪▒█М ╪п╪│╪к╪з┘И█М╪▓╪з╪к'
    },
    icon: 'ЁЯУД' 
  },
  { 
    id: 'offices', 
    title: {
      en: 'Nearby Offices',
      hi: 'рдирдЬрджрзАржХреА рдХрд╛рд░реНрдпрж╛рж▓ржп',
      te: 'р░╕р░орзАрдк р░Хр░╛р░░р▒Нр░прж╛рж▓р░пр░╛р░▓р▒Б',
      ta: 'роЕро░рпБроХрж┐ро▓рпБро│реНр┤│ роЕрж▓рзБржмрж▓рдХр┤ЩрзНржЧр╡╛',
      bn: 'ржХрж╛ржЫрж╛ржХрж╛ржЫрж┐ ржЕржлрж┐рж╕',
      mr: 'рдЬрд╡рд│реАрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдпреЗ',
      gu: 'ркиркЬрлАркХркирлА ркСрклрк┐рк╕рлЛ',
      kn: 'р▓╣р▓др│Нр▓др▓┐р▓░р▓ж р▓Хр▓Ър│Зр▓░р▓┐р▓Чр▓│р│Б',
      ml: 'р┤Ер┤Яр╡Бр┤дрзНр┤др╡Бр┤│р╡Нр┤│ р┤Ур┤лр╡Ар┤╕р╡Бр┤Хр╡╛',
      pa: 'риирйЗрйЬрж▓реЗ рижржлрждрж░',
      or: 'рмирж┐ркХрмЯрж╕рзНрже рмХрж╛рж░рзНржпрж╛рм│ржп',
      as: 'ржУржЪрз░рз░ ржХрж╛рз░рзНржпрж╛рж▓ржпрж╝',
      ur: '┘В╪▒█М╪и█М ╪п┘Б╪з╪крж░'
    },
    icon: 'ЁЯУН' 
  },
  { 
    id: 'track', 
    title: {
      en: 'Track Application',
      hi: 'рдЖрд╡реЗрджржи рдЯреНрд░реИржХ рдХрд░реЗрдВ',
      te: 'р░жрж░р░Цр░╛рж╕р▒Нрждр▒Б р░ЯрзНрж░р░╛ржХр▒Н р░ЪрзЗр░пр░Вр░бсГШ',
      ta: 'ро╡ро┐рогрпНрогржкрзНржкрждрзНрждрпИ ржХржгрзНржХрж╛ржгрж┐ржХрзНржХрд╡рпБроо',
      bn: 'ржЖржмрзЗржжржи ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзБржи',
      mr: 'рдЕрд░реНрдЬ рдЯреНрд░реЕржХ рдХрд░рд╛',
      gu: 'ркЕрк░ркЬрлА ркЯрлНрк░рлЕркХ ркХрк░рлЛ',
      kn: 'р▓Ер▓░р│Нр▓Ьр▓┐ р▓Яр│Нр▓░р│Нр▓пр▓╛р▓Хр│Н р▓ор▓╛р▓бр▓┐',
      ml: 'р┤Ер┤кр╡Зр┤Хр╡Нр┤╖ р┤ЯрзНрж░р┤╛ржХрзНржХр╡Н ркЪрзЗржпрзНржпрзБржХ',
      pa: 'риРрикри▓рйАриХрйЗри╕ри╝рии риЯрйНри░рйИриХ риХри░рйЛ',
      or: 'рмЖржмрзЗржжржи рмЯрнНрк░рж╛рмХ рмХрж░рмирнНрмдрнБ',
      as: 'ржЖржмрзЗржжржи ржЯрзНрз░рзЗржХ ржХрз░ржХ',
      ur: '╪п╪▒╪о┘И╪з╪│╪к ┘╣╪▒█М┌й ┌й╪▒█М┌║'
    },
    icon: 'ЁЯФН' 
  }
];

const App: React.FC = () => {
  const [currentLanguage, setCurrentLanguage] = useState<Language>('en');
  const [messages, setMessages] = useState<Message[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [inputText, setInputText] = useState('');
  const [isListening, setIsListening] = useState(false);
  const [selectedSchemes, setSelectedSchemes] = useState<number[]>([]);
  const [searchResults, setSearchResults] = useState<SearchResult[]>([]);
  const [isSearching, setIsSearching] = useState(false);
  const [autoSubmitEnabled, setAutoSubmitEnabled] = useState(true);
  // Add these state variables after your existing useState declarations
  const [languageSwitchNotification, setLanguageSwitchNotification] = useState<{
  show: boolean;
  language: Language;
  confidence: number;
} | null>(null);

// Add the language detection service function
const showLanguageSwitchNotification = (detectedLang: Language, confidence: number) => {
  setLanguageSwitchNotification({
    show: true,
    language: detectedLang,
    confidence
  });
  
  // Auto-hide after 3 seconds
  setTimeout(() => {
    setLanguageSwitchNotification(null);
  }, 3000);
};


  const recognitionRef = useRef<any>(null);
  const synthesisRef = useRef<SpeechSynthesisUtterance | null>(null);

  // Enhanced speech recognition setup with auto-submit
  // Enhanced speech recognition with language detection
useEffect(() => {
  if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
    const SpeechRecognition = (window as any).webkitSpeechRecognition || (window as any).SpeechRecognition;
    recognitionRef.current = new SpeechRecognition();
    recognitionRef.current.continuous = false;
    recognitionRef.current.interimResults = true;
    recognitionRef.current.maxAlternatives = 3;
    
    // Start with current language but be ready to switch
    recognitionRef.current.lang = getLanguageCode(currentLanguage);

    recognitionRef.current.onresult = (event: any) => {
      const transcript = event.results[event.results.length - 1][0].transcript;
      
      // Auto-detect language from speech
      const detection = LanguageDetectionService.detectLanguage(transcript);
      
      // Switch language if detection confidence is high and different from current
      if (detection.confidence > 0.7 && detection.language !== currentLanguage) {
        console.log(`ЁЯОп Language detected: ${detection.language} (confidence: ${detection.confidence.toFixed(2)})`);
        setCurrentLanguage(detection.language);
        
        // Update speech recognition language for next time
        recognitionRef.current.lang = getLanguageCode(detection.language);
        
        // Show language switch notification
        showLanguageSwitchNotification(detection.language, detection.confidence);
      }
      
      setInputText(transcript);
      setIsListening(false);
      
      // Auto-submit after speech recognition if enabled
      if (autoSubmitEnabled && transcript.trim()) {
        setTimeout(() => {
          handleVoiceSubmit(transcript.trim());
        }, 500);
      }
    };

    recognitionRef.current.onerror = (event: any) => {
      console.error('Speech recognition error:', event.error);
      setIsListening(false);
    };

    recognitionRef.current.onend = () => {
      setIsListening(false);
    };
  }

  return () => {
    if (recognitionRef.current) {
      recognitionRef.current.abort();
    }
  };
}, [currentLanguage, autoSubmitEnabled]);


  // Helper functions
  const getLanguageCode = (lang: Language): string => {
    const langMap: { [key in Language]: string } = {
      en: 'en-US',
      hi: 'hi-IN',
      te: 'te-IN',
      ta: 'ta-IN',
      bn: 'bn-IN',
      mr: 'mr-IN',
      gu: 'gu-IN',
      kn: 'kn-IN',
      ml: 'ml-IN',
      pa: 'pa-IN',
      or: 'or-IN',
      as: 'as-IN',
      ur: 'ur-PK'
    };
    return langMap[lang] || 'en-US';
  };

  const getLocalizedText = (key: string, lang: Language): string => {
    return uiText[key]?.[lang] || uiText[key]?.['en'] || key;
  };

  const getSchemeText = (scheme: WelfareScheme, field: keyof WelfareScheme, lang: Language): string => {
    const fieldValue = scheme[field];
    if (typeof fieldValue === 'object' && fieldValue !== null) {
      return (fieldValue as LocalizedText)[lang] || (fieldValue as LocalizedText)['en'] || '';
    }
    return fieldValue as string || '';
  };

  const speakText = (text: string) => {
    if ('speechSynthesis' in window) {
      window.speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = getLanguageCode(currentLanguage);
      utterance.rate = 0.9;
      utterance.pitch = 1;
      synthesisRef.current = utterance;
      window.speechSynthesis.speak(utterance);
    }
  };

  // Updated getResponse function with proper type safety
  const getResponse = (text: string, lang: Language): string => {
    const lowerText = text.toLowerCase();
    
    // Helper function to get response with fallback
    const getLocalizedResponse = (responses: Partial<LocalizedText>): string => {
      return responses[lang] || responses['en'] || responses['hi'] || 'Information not available';
    };
    
    // Agriculture schemes
    if (lowerText.includes('agriculture') || lowerText.includes('farmer') || lowerText.includes('рдХрд┐рд╕рд╛рди') || lowerText.includes('р░╡р▒Нр░пр░╡р░╕рж╛р░пр░В') || lowerText.includes('р░░р▒Ирждр▒Б')) {
      const responses: Partial<LocalizedText> = {
        en: 'Here are the agriculture schemes available: PM-KISAN provides тВ╣6,000 per year to small farmers. This scheme supports agricultural development and farmer welfare.',
        hi: 'рдпрд╣рд╛рдБ рдХреГрд╖рд┐ рдпреЛрдЬрдирд╛рдПрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ: PM-KISAN рдЫреЛрдЯреЗ рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рдкреНрд░рддрд┐ рд╡рд░реНрд╖ тВ╣6,000 рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдпреЛрдЬрдирд╛ рдХреГрд╖рд┐ рд╡рд┐рдХрд╛рд╕ рдФрд░ рдХрд┐рд╕рд╛рди рдХрд▓реНрдпрд╛рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреА рд╣реИред',
        te: 'р░╡р▒Нр░пр░╡р░╕р░╛р░п р░кр░ер░Хр░╛р░▓р▒Б р░Зр░Хр▒Нр░Хр░б р░Йр░ир▒Нр░ир░╛р░пр░┐: PM-KISAN р░Ър░┐р░ир▒Нр░и р░░р▒Ир░др▒Бр░▓р░Хр▒Б р░╕р░Вр░╡р░др▒Нр░╕р░░р░╛р░ир░┐р░Хр░┐ тВ╣6,000 р░Ер░Вр░жр░┐р░╕р▒Нр░др▒Бр░Вр░жр░┐. р░И р░кр░ер░Хр░В р░╡р▒Нр░пр░╡р░╕р░╛р░п р░Ер░нр░┐р░╡р▒Гр░жр▒Нр░зр░┐ р░ор░░р░┐р░пр▒Б р░░р▒Ир░др▒Б р░╕р░Вр░Хр▒Нр░╖р▒Зр░ор░╛р░ир░┐р░Хр░┐ р░ор░жр▒Нр░жр░др▒Б р░Зр░╕р▒Нр░др▒Бр░Вр░жр░┐ред',
        ta: 'ро╡ро┐рд╡рд╕рд╛рдп родро┐роЯрзНржЯр┤ЩреНрдЧр╡╛ роЗроЩрзНрдЧрпЗ роЙр┤│реНро│ржи: PM-KISAN роЪрж┐ро▒р▒Б ро╡ро┐ржмрж╕рж╛ржпрж┐ржХро│рзБржХрзНроХрзБ роЖрогрзНроЯрзБрдХрзНржХрпБ тВ╣6,000 ро╡ро┤ржЩрзНржЧрзБроХрж┐ро▒родрпБред'
      };
      return getLocalizedResponse(responses);
    }
    
    // Education schemes
    if (lowerText.includes('education') || lowerText.includes('scholarship') || lowerText.includes('рдЫрд╛рддреНрд░рд╡реГрддреНрддрд┐') || lowerText.includes('р░╡р░┐рджрзНрдп') || lowerText.includes('рж╕рзНржХрж╛рж▓рж░рзНтАМр░╖рж┐ржкрзН')) {
      const responses: Partial<LocalizedText> = {
        en: 'Education schemes available: Student Scholarships provide up to тВ╣25,000 for students. These schemes support educational development and student welfare.',
        hi: 'рд╢рд┐рдХреНрд╖рд╛ рдпреЛрдЬрдирд╛рдПрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ: рдЫрд╛рддреНрд░рд╡реГрддреНрддрд┐ рдЫрд╛рддреНрд░реЛрдВ рдХреЛ тВ╣25,000 рддрдХ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдпреЗ рдпреЛрдЬрдирд╛рдПрдВ рд╢реИрдХреНрд╖рд┐рдХ рд╡рд┐рдХрд╛рд╕ рдФрд░ рдЫрд╛рддреНрд░ рдХрд▓реНрдпрд╛рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреА рд╣реИрдВред',
        te: 'р░╡р░┐рджр▒Нржпр░╛ ржкржержХр░╛рж▓р▒Б р░Ер░Вр░жрзБржмрж╛ржЯр▒Бр░▓р▒Л р░Йр░ир▒Нр░ир░╛р░пр░┐: р░╡р░┐рджрзНр░прж╛рж░рзНржерж┐ рж╕рзНржХрж╛рж▓рж░р▒НтАМр░╖р░┐рдкр▒НтАМр░▓р▒Б р░╡р░┐рджрзНрдпрж╛рж░рзНржер▒Бр░▓р░Хр▒Б тВ╣25,000 р░╡рж░р░Хр▒Б р░Ер░Вр░жрж┐р░╕рзНрждр░╛р░прж┐ред р░И ржкржержХрж╛р░▓р▒Б р░╡р░┐рджрзНржпр░╛ р░Ерднр░┐р░╡р▒Гр░жрзНржзрж┐ р░орж░р░┐р░пр▒Б р░╡р░┐р░жрзНр░прж╛рж░рзНржерж┐ рж╕ржВржХрзНрж╖рзЗржорж╛ржир░┐р░Хрж┐ р░ор░жрзНр░жрждр▒Б р░Зрж╕рзНрждр░╛р░прж┐ред',
        ta: 'роХрж▓рзНржмрж┐ родро┐ржЯреНрдЯржЩрзНржЧр╡╛ ржХрж┐ржЯр▒ИржХрзНржХро┐ройрзНрж░ржи: ржорж╛ржгржмрж░ ржЙрждржмрж┐рждрзНрждрзЛржХреИ ржорж╛ржгржмрж░ржЧро│рзБржХрзНржХрзБ тВ╣25,000 ржмрж░реИ ржмро┤ржЩрзНржЧрзБржХрж┐рж░рждрзБред'
      };
      return getLocalizedResponse(responses);
    }
    
    // Women empowerment schemes
    if (lowerText.includes('women') || lowerText.includes('mahila') || lowerText.includes('рдорд╣рд┐рд▓рд╛') || lowerText.includes('ржорж╣рж┐рж▓рж╛') || lowerText.includes('beti')) {
      const responses: Partial<LocalizedText> = {
        en: 'Women empowerment schemes: Beti Bachao Beti Padhao promotes girl child welfare and education. Stand Up India provides entrepreneurship opportunities for women.',
        hi: 'рдорд╣рд┐рд▓рд╛ рд╕рд╢рдХреНрддрд┐рдХрд░рдг рдпреЛрдЬрдирд╛рдПрдВ: рдмреЗрдЯреА рдмрдЪрд╛рдУ рдмреЗрдЯреА рдкрдврд╝рд╛рдУ рдмрд╛рд▓рд┐рдХрд╛ рдХрд▓реНрдпрд╛рдг рдФрд░ рд╢рд┐рдХреНрд╖рд╛ рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗрддреА рд╣реИред рд╕реНрдЯреИрдВрдб рдЕрдк рдЗрдВрдбрд┐рдпрд╛ рдорд╣рд┐рд▓рд╛рдУрдВ рдХреЛ рдЙрджреНрдпрдорд┐рддрд╛ рдХреЗ рдЕрд╡рд╕рд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред',
        te: 'р░орж╣р░┐р░│р░╛ р░╕рд╛ржзр░┐р░Хрж╛рж░р░д ржкржержХрж╛р░▓р▒Б: р░мрзЗржЯрзА р░мржЪрж╛ржмрзЛ р░мрзЗржЯрзА ржкржзрж╛ржмрзЛ ржмрж╛рж▓рж┐ржХ рж╕ржВржХрзНрж╖рзЗржор░В ржорж░р░┐р░пр▒Б ржмрж┐ржжрзНржпр░ир▒Б ржкрзНрж░рзЛрждрзНрж╕рж╛рж╣рж┐рж╕рзНрждрзБрдВржжрж┐ред рж╕рзНржЯрзНржпрж╛ржирзНржб ржЕржк ржЗржирзНржбрж┐ржпрж╝рж╛ ржорж╣рж┐рж▓рж╛рж▓рж╛ржХрзБ ржмрзНржпрж╛ржкрж╛рж░ ржЕржмржХрж╛рж╢рж╛рж▓╨░╨╜╤Г р░ЕржирзНржжрж┐рж╕рзНрждрзБржирзНржжрж┐ред',
        ta: 'ржкрзЗржгрзНржЧржЮр╡Н ржЙрж░рж┐ржореИржпрк│рж┐ржкрзНржкрзБ рждрж┐ржЯрзНржЯржЩрзНржЧржЮрзН: ржкрзЗржЮрзН ржХрзБржЬржирзНрждрзИржХрж▓рзИ ржХрж╛ржкрзНржкрж╛рж░рзНрж░рзБ ржХрж▓рзНржмрж┐ ржХрзЛржбрзБ рждрж┐ржЯрзНржЯржо ржкрзЗржЮрзН ржХрзБржЬржирзНрждрзИ ржирж▓ржирзИ ржЙржХрзНржХрзБржмрж┐ржХрзНржХрж┐рж░рждрзБред'
      };
      return getLocalizedResponse(responses);
    }
    
    // Health schemes
    if (lowerText.includes('health') || lowerText.includes('рд╕реНржмрд╛рд╕реНржереНрдп') || lowerText.includes('р░Жрж░рзЛржЧрзНржпр░В') || lowerText.includes('ayushman')) {
      const responses: Partial<LocalizedText> = {
        en: 'Health schemes available: Ayushman Bharat provides health insurance coverage of тВ╣5 lakh per family. This scheme ensures healthcare access for all.',
        hi: 'рд╕реНрд╡рд╛рд╕реНрдереНрдп рдпреЛрдЬрдирд╛рдПрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ: рдЖрдпреБрд╖реНрдорд╛рди рднрд╛рд░рдд рдкреНрд░рддрд┐ рдкрд░рд┐рд╡рд╛рд░ тВ╣5 рд▓рд╛рдЦ рдХрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмреАрдорд╛ рдХрд╡рд░реЗрдЬ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдпреЛрдЬрдирд╛ рд╕рднреА рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛ рдХреА рдкрд╣реБрдВрдЪ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИред',
        te: 'р░Жрж░р▒ЛржЧрзНржп р░кржержХрж╛рж▓рзБ р░Ер░Вр░жрзБржмрж╛ржЯр▒Бр░▓рзЛ р░Йр░ирзНржирж╛ржпрж┐: р░ЖржпрзБрж╖рзНржорж╛ржи ржнрж╛рж░ржд ржХрзБржЯрзБржорзНржмрж╛ржир░┐р░Хрж┐ тВ╣5 р░▓ржХрзНрж╖рж╛рж▓ р░Жрж░рзЛржЧрзНржп ржмрзАржорж╛ ржХржмрж░рзЗржЬрзАр░ир░┐ ржЕржирзНржжрж┐рж╕рзНрждрзБржирзНржжрж┐ред р░И ржкржержХр░В р░ЕрдирзНржжрж░р░┐р░Хр▒А р░Жрж░рзЛржЧрзНржп рж╕рзЗржмрж╛рж▓ ржЕржирзНржжрзБржмрж╛ржЯрзБржирзБ ржирж┐рж░рзНржзрж╛рж░рж┐рж╕рзНрждрзБржирзНржжрж┐ред',
        ta: 'рж╕рзБржХрж╛рждрж╛рж░ рждрж┐ржЯрзНржЯржЩрзНржЧржЮрзН ржХрж┐ржЯрзИржХрзНржХрж┐ржирзНрж░ржи: ржЖржпрзБрж╖рлНржорж╛ржи ржкрж╛рж░ржд ржУрж░рзБ ржХрзБржбрзБржорзНржмрждрзНрждрж┐рж░ржХрзНржХрзБ тВ╣5 рж▓ржЯрзНрж╕ржо рж╕рзБржХрж╛рждрж╛рж░ ржХрж╛ржкрзНржкрзАржЯрзБ ржмрж▓ржЩрзНржЧрзБржХрж┐рж░рждрзБред'
      };
      return getLocalizedResponse(responses);
    }
    
    // Default response
    const defaultResponses: Partial<LocalizedText> = {
      en: 'I can help you with government welfare schemes. You can ask about agriculture, education, women empowerment, health, housing, or employment schemes. What would you like to know?',
      hi: 'рдореИрдВ рд╕рд░рдХрд╛рд░реА рдХрд▓реНрдпрд╛рдгрдХрд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдЖрдкрдХреА рд╕рд╣рд╛рдпрддрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВред рдЖрдк рдХреГрд╖рд┐, рд╢рд┐рдХреНрд╖рд╛, рдорд╣рд┐рд▓рд╛ рд╕рд╢рдХреНрддрд┐рдХрд░рдг, рд╕реНрд╡рд╛рд╕реНрдереНрдп, рдЖрд╡рд╛рд╕, рдпрд╛ рд░реЛрдЬрдЧрд╛рд░ рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдХреНрдпрд╛ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ?',
      te: 'ржирзЗржирзБ ржкрзНрж░ржнрзБрждрзНржм рж╕ржВркХрзНрж╖рзЗржо ржкржержХрд╛рж▓рж▓рзЛ ржорзАржХрж╛ржХрзБ рж╕рж╛рж╣рж╛р░прзНржпржо ржЪрзЗржпр░Чрж╛рж▓ржирзБред ржорзАрж░рзБ ржмрзНржпржмрж╕рж╛ржпржВ, ржмрж┐ржжрзНржп, ржорж╣рж┐рж▓рж╛ рж╕рж╛ржзрзАржХрж╛рж░ржд, ржКрж░рзЛржЧрзНржпржВ, ржЧрзГрж╣ржирж┐рж░рзНржорж╛ржгржо рж▓рзЗржжрж╛ ржЙржжрзНржпрзЛржЧ ржкржержХрж╛рж▓ ржЧрзБрж░рж┐ржЮрзНржЪрж┐ ржЖржбржЧржмржЪрзНржЪрзБред ржорзАрж░рзБ ржПржорж┐ рждрзЗрж▓рзБрж╕рзБржХрзЛржмрж╛рж▓ржирзБржХрзБржирзНржЯрзБржирзНржирж╛рж░рзБ?',
      ta: 'ржирж╛ржи ржЕрж░рж╕рж╛ржЩрзНржЧ ржирж▓ рждрж┐ржЯрзНржЯржЩрзНржЧрж▓рж┐рж▓ ржирж╛ржи ржЙржЩрзНржЧрж▓рзБржХрзНржХрзБ ржЙрждржм ржорзБржбрж┐ржпрзБржоред ржирзАржЩрзНржЧржЮрзН ржмрж┐ржмрж╕рж╛ржпржо, ржХрж▓рзНржмрж┐, ржкрзЗржгрзНржЧржЮрзН ржЙрж░рж┐ржорзИржпрж▓рж┐ржкрзНржкрзБ, рж╕рзБржХрж╛рждрж╛рж░ржо, ржмрзАржЯрзНржЯрзБржмрж╕рждрж┐ ржЖрж▓рзНрж▓рждрзБ ржмрзЗрж▓рзИржмрж╛ржпржкрзНржкрзБ рждрж┐ржЯрзНржЯржЩрзНржЧрж▓рзИржкрзН ржкрж░рзНрж░рж┐ ржХрзЗржЯрзНржХрж▓рж╛ржоред'
    };
    return getLocalizedResponse(defaultResponses);
  };

  const findRelevantSchemes = (text: string): WelfareScheme[] => {
    const lowerText = text.toLowerCase();
    return sampleSchemes.filter(scheme => {
      const schemeName = getSchemeText(scheme, 'name', currentLanguage).toLowerCase();
      const schemeDescription = getSchemeText(scheme, 'description', currentLanguage).toLowerCase();
      return schemeName.includes(lowerText) ||
             schemeDescription.includes(lowerText) ||
             scheme.category.toLowerCase().includes(lowerText);
    });
  };

  // Event handlers
  const handleLanguageChange = (lang: Language) => {
    setCurrentLanguage(lang);
    if (recognitionRef.current) {
      recognitionRef.current.lang = getLanguageCode(lang);
    }
  };

  const startListening = () => {
    if (recognitionRef.current && !isListening) {
      setIsListening(true);
      recognitionRef.current.start();
    }
  };

  const stopListening = () => {
    if (recognitionRef.current && isListening) {
      recognitionRef.current.stop();
      setIsListening(false);
    }
  };

  // New function to handle voice submission automatically
  const handleVoiceSubmit = async (text: string) => {
    const userMessage: Message = {
      id: Date.now().toString(),
      type: 'user',
      text: text,
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);

    try {
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      const response = getResponse(text, currentLanguage);
      const relevantSchemes = findRelevantSchemes(text);
      
      const assistantMessage: Message = {
        id: (Date.now() + 1).toString(),
        type: 'assistant',
        text: response,
        timestamp: new Date(),
        schemes: relevantSchemes.length > 0 ? relevantSchemes : undefined
      };

      setMessages(prev => [...prev, assistantMessage]);
      speakText(response);
    } catch (error) {
      console.error('Error processing message:', error);
      const errorMessage: Message = {
        id: (Date.now() + 1).toString(),
        type: 'assistant',
        text: getLocalizedText('errorMessage', currentLanguage),
        timestamp: new Date()
      };
      setMessages(prev => [...prev, errorMessage]);
    } finally {
      setIsLoading(false);
      setInputText('');
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!inputText.trim() || isLoading) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      type: 'user',
      text: inputText,
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);

    try {
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      const response = getResponse(inputText, currentLanguage);
      const relevantSchemes = findRelevantSchemes(inputText);
      
      const assistantMessage: Message = {
        id: (Date.now() + 1).toString(),
        type: 'assistant',
        text: response,
        timestamp: new Date(),
        schemes: relevantSchemes.length > 0 ? relevantSchemes : undefined
      };

      setMessages(prev => [...prev, assistantMessage]);
      speakText(response);
    } catch (error) {
      console.error('Error processing message:', error);
      const errorMessage: Message = {
        id: (Date.now() + 1).toString(),
        type: 'assistant',
        text: getLocalizedText('errorMessage', currentLanguage),
        timestamp: new Date()
      };
      setMessages(prev => [...prev, errorMessage]);
    } finally {
      setIsLoading(false);
      setInputText('');
    }
  };

  // Enhanced scheme click handler with detailed response
  const handleSchemeClick = (scheme: WelfareScheme) => {
    const isSelected = selectedSchemes.includes(scheme.id);
    if (isSelected) {
      setSelectedSchemes(prev => prev.filter(id => id !== scheme.id));
    } else {
      setSelectedSchemes(prev => [...prev, scheme.id]);
    }

    // Generate detailed scheme information
    const schemeDetails = getSchemeDetails(scheme, currentLanguage);
    
    const schemeMessage: Message = {
      id: Date.now().toString(),
      type: 'assistant',
      text: schemeDetails,
      timestamp: new Date(),
      schemes: [scheme]
    };

    setMessages(prev => [...prev, schemeMessage]);
    speakText(schemeDetails);
  };

  // New function to get detailed scheme information
  const getSchemeDetails = (scheme: WelfareScheme, lang: Language): string => {
    const schemeName = getSchemeText(scheme, 'name', lang);
    const description = getSchemeText(scheme, 'description', lang);
    const benefit = getSchemeText(scheme, 'benefitAmount', lang);
    
    const detailTemplates: Partial<LocalizedText> = {
      en: `Here are the complete details for ${schemeName}:

ЁЯУЛ Description: ${description}

ЁЯТ░ Benefit Amount: ${benefit}

ЁЯУД Required Documents:
тАв Aadhaar Card
тАв Bank Account Details
тАв Income Certificate
тАв Address Proof

тЬЕ Eligibility Criteria:
тАв Indian Citizen
тАв Age: 18+ years
тАв Income based requirements apply

ЁЯМР How to Apply:
1. Visit the official website
2. Fill the online application form
3. Upload required documents
4. Submit and take printout

ЁЯУЮ For help, contact your nearest Common Service Center or call the helpline.`,

      hi: `${schemeName} рдХреА рдкреВрд░реА рдЬрд╛рдирдХрд╛рд░реА рдпрд╣рд╛рдБ рд╣реИ:

ЁЯУЛ рд╡рд┐рд╡рд░рдг: ${description}

ЁЯТ░ рд▓рд╛рдн рд░рд╛рд╢рд┐: ${benefit}

ЁЯУД рдЖрд╡рд╢реНрдпрдХ рджрд╕реНрддрд╛рд╡реЗрдЬ:
тАв рдЖрдзрд╛рд░ рдХрд╛рд░реНрдб
тАв рдмреИрдВрдХ рдЦрд╛рддрд╛ рд╡рд┐рд╡рд░рдг
тАв рдЖрдп рдкреНрд░рдорд╛рдг рдкрддреНрд░
тАв рдкрддрд╛ рдкреНрд░рдорд╛рдг

тЬЕ рдкрд╛рддреНрд░рддрд╛ рдорд╛рдирджрдВрдб:
тАв рднрд╛рд░рддреАрдп рдирд╛рдЧрд░рд┐рдХ
тАв рдЖрдпреБ: 18+ рд╡рд░реНрд╖
тАв рдЖрдп рдЖрдзрд╛рд░рд┐рдд рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рд▓рд╛рдЧреВ

ЁЯМР рдЖрд╡реЗрджрди рдХреИрд╕реЗ рдХрд░реЗрдВ:
1. рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╛рдПрдВ
2. рдСрдирд▓рд╛рдЗрди рдЖрд╡реЗрджрди рдлреЙрд░реНрдо рднрд░реЗрдВ
3. рдЖрд╡рд╢реНрдпрдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ
4. рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рд┐рдВрдЯ рдирд┐рдХрд╛рд▓реЗрдВ

ЁЯУЮ рдорджрдж рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рдирд┐рдХрдЯрддрдо рд╕рд╛рдорд╛рдиреНрдп рд╕реЗрд╡рд╛ рдХреЗрдВрджреНрд░ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред`,

      te: `${schemeName} р░креВрж░рзНржг ржмрж┐ржмрж░рж╛рж▓рзБ ржЗржХрзНржХрж╛ржбрж╛ ржЙржирзНржирж╛ржпрж┐:

ЁЯУЛ ржмрж┐ржмрд░рд╛ржг: ${description}

ЁЯТ░ ржкрзНрж░ржпреЛржЬржи ржорзЛрждрзНрждрж╛ржо: ${benefit}

ЁЯУД ржЖржмрж╕рж░ржореИржи ржкрждрзНрж░рж╛рж▓рзБ:
тАв ржКржзрж╛рж░ ржХрж╛рж░рзНржб
тАв ржмрзНржпрж╛ржЩрзНржХ ржЦрж╛рждрж╛ ржмрж┐ржмрж░рж╛рж▓рзБ
тАв ржКржжрж╛ржп ржзрзГржмрзАржХрж░ржг ржкрждрзНрж░ржо
тАв ржЪрж┐рж░рзБржирж╛ржорж╛ рж░рзБржЬрзБржмрзБ

тЬЕ ржЖрж░рзНрж╣ржд ржкрзНрж░ржорж╛ржгрж╛рж▓рзБ:
тАв ржнрж╛рж░рждрзАржп ржкрзМрж░рзБржбрзБ
тАв ржмржпрж╕рзНрж╕рзБ: 18+ рж╕ржВржмрждрзНрж╕рж░рж╛рж▓рзБ
тАв ржКржжрж╛ржп ржКржзрж╛рж░рж┐ржд ржЖржмрж╕рж░рж╛рж▓рзБ ржмрж░рзНрждрж┐рж╕рзНрждрж╛ржпрж┐

ЁЯМР ржжрж░ржЦрж╛рж╕рзНрждрзБ ржПрж▓рж╛ ржЪрзЗржпржпрж╛рж▓рж┐:
1. ржЖржзрж┐ржХрж╛рж░рж┐ржХ ржмрзЗржмтАМрж╕рзИржЯрзНржирзБ рж╕ржирзНржжрж░рзНрж╢рж┐ржЮрзНржЪржирзНржбрж┐
2. ржКржитАМрж▓рзИржи ржжрж░ржЦрж╛рж╕рзНрждрзБ ржл╪з╪▒ржо ржкрзВрж░рж┐ржЮрзНржЪржирзНржбрж┐
3. ржЖржмрж╕рж░ржореИрди ржкрждрзНрж░рж╛рж▓ржирзБ ржЖржктАМрж▓рзЛржб ржЪрзЗржпржирзНржбрж┐
4. рж╕ржорж░рзНржкрж┐ржЮрзНржЪрж┐ ржкрзНрж░рж┐ржирзНржЯ рждрзАрж╕рзБржХрзЛржирзНржб

ЁЯУЮ рж╕рж╛рж╣рж╛ржпржпржо ржХрзЛрж╕рж╛ржо, ржорзА рж╕ржорзАржк ржХрж╛ржоржи рж╕рж░рзНржмрзАрж╕ рж╕рзЗржирзНржЯрж░рзНржирзБ рж╕ржоржкрзНрж░ржжрж┐ржЮрзНржЪржирзНржбрж┐ред`
    };

    return detailTemplates[lang] || detailTemplates['en'] || `Details for ${schemeName}: ${description}. Benefit: ${benefit}`;
  };

  // Enhanced quick action handler with detailed responses
  const handleQuickAction = (actionId: string) => {
    const detailedActionTexts: { [key: string]: Partial<LocalizedText> } = {
      eligibility: {
        en: `ЁЯУЛ ELIGIBILITY CHECK GUIDE

To check if you're eligible for government schemes, I need the following information:

ЁЯСд Personal Details:
тАв Your age
тАв Monthly family income
тАв State/District you live in
тАв Occupation/profession
тАв Family size

ЁЯУК Based on this information, I can help you find:
тАв Agriculture schemes (if you're a farmer)
тАв Education scholarships (for students)
тАв Women empowerment programs
тАв Health insurance schemes
тАв Housing subsidies
тАв Employment/business loans

ЁЯТб Example: "I am 25 years old, farmer from Telangana, monthly income тВ╣15,000, family of 4 members"

Please share your details, and I'll find the best schemes for you!`,

        hi: `ЁЯУЛ рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪ рдЧрд╛рдЗрдб

рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреА рдкрд╛рддреНрд░рддрд╛ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдореБрдЭреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдЪрд╛рд╣рд┐рдП:

ЁЯСд рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╡рд┐рд╡рд░рдг:
тАв рдЖрдкрдХреА рдЙрдореНрд░
тАв рдорд╛рд╕рд┐рдХ рдкрд╛рд░рд┐рд╡рд╛рд░рд┐рдХ рдЖрдп
тАв рд░рд╛рдЬреНрдп/рдЬрд┐рд▓рд╛ рдЬрд╣рд╛рдБ рдЖрдк рд░рд╣рддреЗ рд╣реИрдВ
тАв рд╡реНрдпрд╡рд╕рд╛рдп/рдкреЗрд╢рд╛
тАв рдкрд░рд┐рд╡рд╛рд░ рдХрд╛ рдЖрдХрд╛рд░

ЁЯУК рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдореИрдВ рдЖрдкрдХреЛ рдЗрди рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ:
тАв рдХреГрд╖рд┐ рдпреЛрдЬрдирд╛рдПрдВ (рдпрджрд┐ рдЖрдк рдХрд┐рд╕рд╛рди рд╣реИрдВ)
тАв рд╢рд┐рдХреНрд╖рд╛ рдЫрд╛рддреНрд░рд╡реГрддреНрддрд┐ (рдЫрд╛рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП)
тАв рдорд╣рд┐рд▓рд╛ рд╕рд╢рдХреНрддрд┐рдХрд░рдг рдХрд╛рд░реНрдпрдХреНрд░рдо
тАв рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмреАрдорд╛ рдпреЛрдЬрдирд╛рдПрдВ
тАв рдЖрд╡рд╛рд╕ рд╕рдмреНрд╕рд┐рдбреА
тАв рд░реЛрдЬрдЧрд╛рд░/рд╡реНрдпрд╛рдкрд╛рд░ рдЛрдг

ЁЯТб рдЙрджрд╛рд╣рд░рдг: "рдореИрдВ 25 рд╕рд╛рд▓ рдХрд╛ рд╣реВрдВ, рддреЗрд▓рдВрдЧрд╛рдирд╛ рдХрд╛ рдХрд┐рд╕рд╛рди, рдорд╛рд╕рд┐рдХ рдЖрдп тВ╣15,000, 4 рд╕рджрд╕реНрдпреЛрдВ рдХрд╛ рдкрд░рд┐рд╡рд╛рд░"

рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рд╡рд┐рд╡рд░рдг рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, рдФрд░ рдореИрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рдпреЛрдЬрдирд╛рдПрдВ рдвреВрдВрдвреВрдВрдЧрд╛!`,

        te: `ЁЯУЛ ржЖрж░рзНрж╣ржд рждржирж┐ржЦрзА ржЧрд╛ржЗржб

ржкрзНрж░ржнрзБрждрзНржм ржкржержХрж╛рж▓рж╛ржХрзБ ржорзА ржЖрж░рзНрд╣рждрдирзБ рждржирж┐ржЦрзА ржЪрзЗржпржбрж╛ржирж┐ржХрж┐, ржирж╛ржХрзБ ржЗ ржХрзНрж░рж┐ржирзНржжрж┐ рж╕ржорж╛ржЪрж╛рж░ржо ржЖржмрж╕рж░ржо:

ЁЯСд ржмрзНржпржХрзНрждрж┐ржЧржд ржмрж┐ржмрж░рж╛рж▓рзБ:
тАв ржорзА ржмржпрж╕реНрд╕рзБ
тАв ржирзЗрж▓ржмрж╛рж░рзА ржХрзБржЯрзБржорзНржм ржКржжрж╛ржпржо
тАв ржорзАрж░рзБ ржирж┐ржмрж╕рж┐ржЮрзНржЪрзЗ рж░рж╛рж╖рзНржЯрзНрж░ржо/ржЬрж┐рж▓рзНрж▓рж╛
тАв ржмрзГрждрзНрждрж┐/ржкрзЗрж╖рж╛
тАв ржХрзБржЯрзБржорзНржм рж╕ржнрзНржпрзБрж▓ рж╕ржВржЦрзНржпрж╛

ЁЯУК ржЗ рж╕ржорж╛ржЪрж╛рж░ржо ржКржзрж╛рж░ржВржЧрж╛, ржирзЗржирзБ ржорзАржХрж╛ржХрзБ ржЗ ржкржержХрж╛рж▓рж▓рзЛ рж╕рж╛рж╣рж╛ржпржпржо ржЪрзЗржпржЧрж╛рж▓ржирзБ:
тАв ржмрзНржпржмрж╕рж╛ржп ржкржеуВлрж▓рзБ (ржорзАрж░рзБ рж░рзИрждрзБ ржЖржпрж┐рждрзЗ)
тАв ржмрж┐ржжрзНржпрж╛ рж╕рзНржХрж╛рж▓рж░рзНтАМрж╖рж┐ржкрзНтАМрж▓рзБ (ржмрж┐ржжрзНржпрж╛рж░рзНржерзБрж▓ ржХрзЛрж╕ржо)
тАв ржорж╣рж┐рж▓рж╛ рж╕рж╛ржзрзАржХрж╛рж░ржд ржХрж╛рж░рзНржпржХрзНрж░ржорж╛рж▓рзБ
тАв ржКрж░рзЛржЧрзНржп ржмрзАржорж╛ ржкржержХрж╛рж▓рзБ
тАв ржЧрзГрж╣ рж╕ржмрж╕рж┐ржбрзАрж▓рзБ
тАв ржЙржжрзНржпрзЛржЧржо/ржмрзНржпрж╛ржкрж╛рж░ рж░рзБржгрж╛рж▓рзБ

ЁЯТб ржЙржжрж╛рж╣рж░ржг: "ржирзЗржирзБ 25 рж╕ржВржмрждрзНрж╕рж░рж╛рж▓рзБ, рждрзЗрж▓ржВржЧрж╛ржг рж░рзИрждрзБржирзБ, ржирзЗрж▓ржмрж╛рж░рзА ржКржжрж╛ржпржо тВ╣15,000, 4 рж╕ржнрзНржпрзБрж▓ ржХрзБржЯрзБржорзНржмржо"

ржжржпржЪрзЗрж╕рж┐ ржорзА ржмрж┐ржмрж░рд╛рд▓ржирзБ ржкржЮрзНржЪрзБржХрзЛржирзНржбрж┐, ржирзЗржирзБ ржорзА ржХрзЛрж╕ржо ржЙрждрзНрждржо ржкржержХрж╛рж▓ржирзБ ржХржирзБржЧрзЛржирзНржЯрж╛ржирзБ!`
      },

      documents: {
        en: 'Documents required: Aadhaar Card, Bank Details, Income Certificate, Address Proof, Category Certificate (if applicable), Recent Photos, Mobile Number, Email ID.',
        hi: 'рдЖрд╡рд╢реНрдпрдХ рджрд╕реНрддрд╛рд╡реЗрдЬ: рдЖрдзрд╛рд░ рдХрд╛рд░реНрдб, рдмреИрдВрдХ рд╡рд┐рд╡рд░рдг, рдЖрдп рдкреНрд░рдорд╛рдг рдкрддреНрд░, рдкрддрд╛ рдкреНрд░рдорд╛рдг, рд╢реНрд░реЗрдгреА рдкреНрд░рдорд╛рдг рдкрддреНрд░ (рдпрджрд┐ рд▓рд╛рдЧреВ рд╣реЛ), рд╣рд╛рд▓ рдХреА рдлреЛрдЯреЛ, рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░, рдИрдореЗрд▓ рдЖрдИрдбреАред',
        te: 'ржЖржмрж╕рж░ржорзИржи ржкрждрзНрж░рж╛рж▓рзБ: ржКрдзрж╛рж░ ржХрж╛рж░рзНржб, ржмрзНржпрж╛ржЩрзНржХ ржмрж┐ржмрж░рж╛рж▓рзБ, ржКржжрж╛ржп ржзрзГржмрзАржХрж░ржг ржкрждрзНрж░рдо, ржЪрж┐рж░рзБржирж╛ржорж╛ рж░рзБржЬрзБржмрзБ, ржмрж░рзНржЧ ржзрзГржмрзАржХрж░ржг ржкрждрзНрж░рж╛рж▓рзБ (ржмрж░рзНрждрж┐ржЮрзНржЪрж┐ржиржЯрзНрж▓ржпрж┐рждрзЗ), ржЗржЯрзАржмрж▓рж┐ ржлрзЛржЯрзЛрж▓рзБ, ржорзЛржмрзИрж▓ ржиржорзНржмрж░, ржЗржорзЗржпрж▓ IDред'
      },

      offices: {
        en: 'Government offices: Block Development Office (BDO), Tehsil Office, District Collector Office, Common Service Centers (CSCs), Digital Seva Centers, Banks, Employment Exchanges.',
        hi: 'рд╕рд░рдХрд╛рд░реА рдХрд╛рд░реНрдпрд╛рд▓рдп: рдмреНрд▓реЙрдХ рд╡рд┐рдХрд╛рд╕ рдХрд╛рд░реНрдпрд╛рд▓рдп (BDO), рддрд╣рд╕реАрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп, рдЬрд┐рд▓рд╛ рдХрд▓реЗрдХреНрдЯрд░ рдХрд╛рд░реНрдпрд╛рд▓рдп, рд╕рд╛рдорд╛рдиреНрдп рд╕реЗрд╡рд╛ рдХреЗрдВрджреНрд░ (CSCs), рдбрд┐рдЬрд┐рдЯрд▓ рд╕реЗрд╡рд╛ рдХреЗрдВрджреНрд░, рдмреИрдВрдХ, рд░реЛрдЬрдЧрд╛рд░ рдХрд╛рд░реНрдпрд╛рд▓рдпред',
        te: 'ржкрзНрж░рднрзБрждрзНржм ржХрж╛рж░рзНржпрж╛рж▓ржпрж╛рж▓рзБ: ржмрзНрж▓рж╛ржХ ржбрзЗржмрж▓ржкрзНржорзЗржирзНржЯ ржКржлрзАрж╕ (BDO), рждрж╣рж╕рзАрж▓ ржХрж╛рж░рзНржпрж╛рж▓ржпржо, ржЬрж┐рж▓рзНрж▓рж╛ ржХрж▓рзЗржХрзНржЯрж░ ржХрж╛рж░рзНржпрж╛рж▓ржпржо, ржХрж╛ржоржи рж╕рж░рзНржмрзАрж╕ рж╕рзЗржирзНржЯрж░рзНрж▓рзБ (CSCs), ржбрж┐ржЬрж┐ржЯрж▓ рж╕рзЗржмрж╛ ржХрзЗржирзНржжрзНрж░рж╛рж▓рзБ, ржмрзНржпрж╛ржЩрзНржХрзБрж▓рзБ, ржЙржжрзНржпрзЛржЧ ржХрж╛рж░рзНржпрж╛рж▓ржпрж╛рж▓рзБред'
      },

      track: {
        en: 'Track applications online through official websites, mobile apps like UMANG, SMS services, or visit offices with your application reference number and Aadhaar.',
        hi: 'рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯреЛрдВ, UMANG рдЬреИрд╕реЗ рдореЛрдмрд╛рдЗрд▓ рдРрдкреНрд╕, SMS рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдСрдирд▓рд╛рдЗрди рдЖрд╡реЗрджрди рдЯреНрд░реИрдХ рдХрд░реЗрдВ, рдпрд╛ рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рд╕рдВрджрд░реНрдн рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЖрдзрд╛рд░ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдпрд╛рд▓рдпреЛрдВ рдореЗрдВ рдЬрд╛рдПрдВред',
        te: 'ржЖржзрж┐ржХрж╛рж░рж┐ржХ ржмрзЗржмтАМрж╕рзИржЯрзНрж▓рждрзЛ, UMANG р░ЕржирзНрждрж╛ ржорзЛржмрзИрж▓ ржпрж╛ржкрзНрж▓рждрзЛ, SMS рж╕рзЗржмрж╛рж▓рждрзЛ ржКржитАМрж▓рзИржи ржжрж░ржЦрж╛рж╕рзНрждрзБрж▓ржирзБ ржЯрзНрж░рж╛ржХ ржЪрзЗржпржирзНржбрж┐, рж▓рзЗржжрж╛ ржорзА ржжрж░ржЦрж╛рж╕рзНрждрзБ рж░рж┐ржлрж░рзЗржирзНрж╕ ржиржорзНржмрж░ ржорж░рж┐ржпрзБ ржКржзрж╛рж░рзНрждрзЛ ржХрж╛рж░рзНржпрж╛рж▓ржпрж╛рж▓рж╛ржХрзБ ржмреЗрж▓рзНрж▓ржирзНржбрж┐ред'
      }
    };

    const responseText = detailedActionTexts[actionId]?.[currentLanguage] || detailedActionTexts[actionId]?.['en'] || 'Information not available';
    
    const actionMessage: Message = {
      id: Date.now().toString(),
      type: 'assistant',
      text: responseText,
      timestamp: new Date()
    };

    setMessages(prev => [...prev, actionMessage]);
    speakText(responseText);
  };

  return (
    <div className="app">
      {/* Header */}
      <header className="header">
        <div className="header-content">
          <div className="logo">
            <span className="logo-icon">ЁЯПЫя╕П</span>
            <h1>Digital Welfare Companion</h1>
          </div>
          
          <div className="language-selector">
            <select 
              value={currentLanguage} 
              onChange={(e) => handleLanguageChange(e.target.value as Language)}
              className="language-dropdown"
            >
              {languages.map(lang => (
                <option key={lang.code} value={lang.code}>
                  {lang.flag} {lang.name}
                </option>
              ))}
            </select>
          </div>
        </div>
        </header>

{/* Main Content */}
<main className="main-content">
  <div className="welcome-section">
    <h2 className="main-title">{getLocalizedText('mainTitle', currentLanguage)}</h2>
  </div>

  {/* VOICE ASSISTANT AT TOP */}
  <div className="voice-assistant-section">
    <form onSubmit={handleSubmit} className="input-form">
      <div className="input-container">
        <input
          type="text"
          value={inputText}
          onChange={(e) => setInputText(e.target.value)}
          placeholder={getLocalizedText('inputPlaceholder', currentLanguage)}
          disabled={isLoading}
          className="text-input"
        />
        
        <button
          type="button"
          onClick={isListening ? stopListening : startListening}
          disabled={isLoading}
          className={`voice-button ${isListening ? 'listening' : ''}`}
        >
          {isListening ? 'ЁЯФ┤' : 'ЁЯОд'}
        </button>
        
        <button
          type="submit"
          disabled={!inputText.trim() || isLoading}
          className="send-button"
        >
          {isLoading ? 'тП│' : 'ЁЯУд'}
        </button>
      </div>
      
      {isListening && (
        <div className="listening-indicator">
          <span className="pulse-dot"></span>
          <span className="listening-text">
            {getLocalizedText('listening', currentLanguage)}
          </span>
        </div>
      )}
    </form>
  </div>

  {/* Messages */}
  {messages.length > 0 && (
    <div className="messages-container">
      {messages.map(message => (
        <div key={message.id} className={`message ${message.type}`}>
          <div className="message-content">
            <p>{message.text}</p>
            {message.schemes && message.schemes.length > 0 && (
              <div className="message-schemes">
                {message.schemes.map(scheme => (
                  <div key={scheme.id} className="mini-scheme-card">
                    <h5>{getSchemeText(scheme, 'name', currentLanguage)}</h5>
                    <p>{getSchemeText(scheme, 'description', currentLanguage)}</p>
                    <span>{getSchemeText(scheme, 'benefitAmount', currentLanguage)}</span>
                  </div>
                ))}
              </div>
            )}
          </div>
          <span className="message-time">
            {message.timestamp.toLocaleTimeString()}
          </span>
        </div>
      ))}
      {isLoading && (
        <div className="message assistant loading">
          <div className="loading-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      )}
    </div>
  )}

  {/* Quick Actions */}
  <div className="quick-actions">
    <h3>{getLocalizedText('quickActions', currentLanguage)}</h3>
    <div className="actions-grid">
      {quickActions.map(action => (
        <button 
          key={action.id} 
          className="action-button"
          onClick={() => handleQuickAction(action.id)}
        >
          <span className="action-icon">{action.icon}</span>
          <span className="action-title">{action.title[currentLanguage] || action.title['en']}</span>
        </button>
      ))}
    </div>
  </div>

  {/* Popular Schemes */}
  <div className="schemes-section">
    <h3>{getLocalizedText('popularSchemes', currentLanguage)}</h3>
    <div className="schemes-grid">
      {sampleSchemes.map(scheme => (
        <div 
          key={scheme.id}
          className={`scheme-card ${selectedSchemes.includes(scheme.id) ? 'selected' : ''}`}
          onClick={() => handleSchemeClick(scheme)}
        >
          <div className="scheme-header">
            <h4 className="scheme-title">{getSchemeText(scheme, 'name', currentLanguage)}</h4>
            <span className="scheme-category">{scheme.category}</span>
          </div>
          <p className="scheme-description">{getSchemeText(scheme, 'description', currentLanguage)}</p>
          <div className="scheme-footer">
            <span className="benefit-amount">{getSchemeText(scheme, 'benefitAmount', currentLanguage)}</span>
            {scheme.applicationUrl && (
              <a 
                href={scheme.applicationUrl} 
                target="_blank" 
                rel="noopener noreferrer"
                className="apply-link"
                onClick={(e) => e.stopPropagation()}
              >
                Apply Online
              </a>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</main>
</div>
);
};
// Language Detection Service - Add this before the App component
interface DetectedLanguage {
  language: Language;
  confidence: number;
}

export default App;